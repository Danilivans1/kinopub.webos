(this["webpackJsonpkinopub.webos"]=this["webpackJsonpkinopub.webos"]||[]).push([[10],{516:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return p}));var r=n(6),c=n(31),i=n(20),o=n(0),u=n(525),a=n.n(u),s=n(21),l=n(46),f=n(38),v=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{disconnectOnLeave:!1},c=t.onEnterViewport,i=t.onLeaveViewport,u=Object(o.useState)(),a=Object(l.a)(u,2),s=a[1],v=Object(o.useRef)(null),d=Object(o.useRef)(!1),b=Object(o.useRef)(!1),h=Object(o.useRef)(0),j=Object(o.useRef)(0),O=Object(o.useCallback)((function(){if(e.current&&v.current){var t=Object(f.findDOMNode)(e.current);t&&v.current.observe(t)}}),[e,v]),p=Object(o.useCallback)((function(){if(e.current&&v.current){var t=Object(f.findDOMNode)(e.current);t&&(v.current.unobserve(t),v.current.disconnect(),v.current=null)}}),[e,v]),g=Object(o.useCallback)((function(e){var t=e[0]||{},n=t.isIntersecting,o=t.intersectionRatio,u="undefined"!==typeof n?n:o>0;if(!b.current&&u)return b.current=!0,null===c||void 0===c||c(),h.current+=1,d.current=u,void s(u);b.current&&!u&&(b.current=!1,null===i||void 0===i||i(),r.disconnectOnLeave&&v.current&&v.current.disconnect(),j.current+=1,d.current=u,s(u))}),[v,r.disconnectOnLeave,c,i]),x=Object(o.useCallback)((function(){v.current||(v.current=new IntersectionObserver(g,n))}),[v,n,g]);return Object(o.useEffect)((function(){return x(),O(),function(){p()}}),[x,O,p]),{inViewport:d.current,enterCount:h.current,leaveCount:j.current}},d=n(722);var b,h=function(e){var t=Object(d.a)();return Object(o.useMemo)((function(){return"".concat(e,"-").concat(t)}),[e,t])},j=n(1),O=s.b.div(b||(b=Object(i.a)(["\n  height: 5rem;\n"]))),p=Object(o.createContext)({}),g=function(e){var t=e.children,n=e.onScrollToEnd,i=Object(c.a)(e,["children","onScrollToEnd"]),u=Object(o.useRef)(null),s=h("scrollable"),l=Object(o.useMemo)((function(){return{id:s}}),[s]);return v(u,{onEnterViewport:n}),Object(j.jsxs)(a.a,Object(r.a)(Object(r.a)({id:s,direction:"vertical",verticalScrollbar:"hidden",horizontalScrollbar:"hidden"},i),{},{children:[Object(j.jsx)(p.Provider,{value:l,children:t}),Object(j.jsx)(O,{ref:u})]}))}},518:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(6),c=n(0),i=n(526),o=n.n(i),u=n(516),a=n(1),s=function(e){var t=Object(c.useContext)(u.a).id;return Object(a.jsx)(o.a,Object(r.a)({once:!0,offset:100,scrollContainer:t&&"#".concat(t)},e))};var l=s},521:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r,c,i,o=n(78),u=n(0),a=n(102),s=n.n(a),l=n(516),f=n(20),v=n(513),d=n(524),b=n.n(d),h=n(21),j=n(518),O=n(5),p=n(1),g=Object(h.b)(j.a)(r||(r=Object(f.a)(["\n  display: inline-flex;\n  position: relative;\n  height: 20rem !important;\n  width: 20%;\n"]))),x=Object(h.b)(b.a)(c||(c=Object(f.a)(["\n  width: 100%;\n"]))),m=h.b.div(i||(i=Object(f.a)(["\n  position: absolute;\n  background: var(--main-color);\n  right: 0;\n  z-index: 1;\n  padding: 0 0.5em;\n  font-size: 0.75rem;\n  margin-top: 0.25rem;\n  margin-right: 0.25rem;\n"]))),P=function(e){var t=e.item,n=Object(v.e)(),r=Object(u.useCallback)((function(){(null===t||void 0===t?void 0:t.id)&&n.push(Object(O.b)(O.a.Item,{itemId:t.id}))}),[null===t||void 0===t?void 0:t.id,n]);return Object(p.jsxs)(g,{height:"20rem",children:[Object(p.jsx)(m,{children:null===t||void 0===t?void 0:t.new}),Object(p.jsx)(x,{source:null===t||void 0===t?void 0:t.posters.medium,caption:null===t||void 0===t?void 0:t.title,onClick:r})]})},w=function(e){var t=e.items,n=e.loading,r=e.onScrollToEnd,c=e.scrollable,i=void 0===c||c,u=Object(p.jsxs)(p.Fragment,{children:[s()(t,(function(e){return Object(p.jsx)(P,{item:e},e.id)})),n&&s()(Object(o.a)(new Array(15)),(function(e,t){return Object(p.jsx)(P,{},t)}))]});return i?Object(p.jsx)(l.b,{onScrollToEnd:r,children:u}):u}},523:function(e,t,n){var r=n(228),c=n(531),i=n(226),o=n(36);e.exports=function(e,t){return(o(e)?r:c)(e,i(t,3))}},531:function(e,t,n){var r=n(229);e.exports=function(e,t){var n=[];return r(e,(function(e,r,c){t(e,r,c)&&n.push(e)})),n}},532:function(e,t,n){var r=n(226),c=n(534);e.exports=function(e,t){return e&&e.length?c(e,r(t,2)):[]}},534:function(e,t,n){var r=n(232),c=n(537),i=n(541),o=n(233),u=n(542),a=n(227);e.exports=function(e,t,n){var s=-1,l=c,f=e.length,v=!0,d=[],b=d;if(n)v=!1,l=i;else if(f>=200){var h=t?null:u(e);if(h)return a(h);v=!1,l=o,b=new r}else b=t?[]:d;e:for(;++s<f;){var j=e[s],O=t?t(j):j;if(j=n||0!==j?j:0,v&&O===O){for(var p=b.length;p--;)if(b[p]===O)continue e;t&&b.push(O),d.push(j)}else l(b,O,n)||(b!==d&&b.push(O),d.push(j))}return d}},535:function(e,t){e.exports=function(e,t,n,r){for(var c=e.length,i=n+(r?1:-1);r?i--:++i<c;)if(t(e[i],i,e))return i;return-1}},537:function(e,t,n){var r=n(538);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},538:function(e,t,n){var r=n(535),c=n(539),i=n(540);e.exports=function(e,t,n){return t===t?i(e,t,n):r(e,c,n)}},539:function(e,t){e.exports=function(e){return e!==e}},540:function(e,t){e.exports=function(e,t,n){for(var r=n-1,c=e.length;++r<c;)if(e[r]===t)return r;return-1}},541:function(e,t){e.exports=function(e,t,n){for(var r=-1,c=null==e?0:e.length;++r<c;)if(n(t,e[r]))return!0;return!1}},542:function(e,t,n){var r=n(234),c=n(543),i=n(227),o=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:c;e.exports=o},543:function(e,t){e.exports=function(){}},549:function(e,t,n){var r=n(550),c=n(102);e.exports=function(e,t){return r(c(e,t),1)}},550:function(e,t,n){var r=n(238),c=n(551);e.exports=function e(t,n,i,o,u){var a=-1,s=t.length;for(i||(i=c),u||(u=[]);++a<s;){var l=t[a];n>0&&i(l)?n>1?e(l,n-1,i,o,u):r(u,l):o||(u[u.length]=l)}return u}},551:function(e,t,n){var r=n(79),c=n(150),i=n(36),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||c(e)||!!(o&&e&&e[o])}},560:function(e,t,n){"use strict";var r=n(0),c=n(4),i=n(13),o=n(552),u=n(155),a=function(e){function t(t,n){return e.call(this,t,n)||this}Object(i.a)(t,e);var n=t.prototype;return n.bindMethods=function(){e.prototype.bindMethods.call(this),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)},n.setOptions=function(t){e.prototype.setOptions.call(this,Object(c.a)({},t,{behavior:Object(u.c)()}))},n.fetchNextPage=function(e){return this.fetch({cancelRefetch:!0,throwOnError:null==e?void 0:e.throwOnError,meta:{fetchMore:{direction:"forward",pageParam:null==e?void 0:e.pageParam}}})},n.fetchPreviousPage=function(e){return this.fetch({cancelRefetch:!0,throwOnError:null==e?void 0:e.throwOnError,meta:{fetchMore:{direction:"backward",pageParam:null==e?void 0:e.pageParam}}})},n.createResult=function(t,n){var r,i,o,a,s,l,f=t.state,v=e.prototype.createResult.call(this,t,n);return Object(c.a)({},v,{fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Object(u.a)(n,null==(r=f.data)?void 0:r.pages),hasPreviousPage:Object(u.b)(n,null==(i=f.data)?void 0:i.pages),isFetchingNextPage:f.isFetching&&"forward"===(null==(o=f.fetchMeta)||null==(a=o.fetchMore)?void 0:a.direction),isFetchingPreviousPage:f.isFetching&&"backward"===(null==(s=f.fetchMeta)||null==(l=s.fetchMore)?void 0:l.direction)})},t}(o.a),s=n(2),l=n(522);function f(e,t,n){var r=Object(s.l)(e,t,n);return Object(l.a)(r,a)}var v=n(142);t.a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];var i=Object(r.useMemo)((function(){return new v.c}),[]),o=f([e].concat(n),(function(t){var r=t.pageParam;return i[e].apply(i,n.concat([r]))}),{getNextPageParam:function(e){var t;return(null===e||void 0===e||null===(t=e.pagination)||void 0===t?void 0:t.current)+1||1}});return o}},561:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(46),c=n(0),i=n(523),o=n.n(i),u=n(549),a=n.n(u),s=n(532),l=n.n(s),f=n(521),v=n(1),d=function(e){var t=e.queryResult,n=e.processItems,i=t.data,u=t.isLoading,s=t.isFetchingNextPage,d=t.fetchNextPage,b=Object(c.useState)(!1),h=Object(r.a)(b,2),j=h[0],O=h[1],p=Object(c.useMemo)((function(){return l()(o()(a()(null===i||void 0===i?void 0:i.pages,(function(e){return e.items}))),"id")}),[null===i||void 0===i?void 0:i.pages]),g=Object(c.useMemo)((function(){return n?n(p):p}),[p,n]),x=Object(c.useCallback)((function(){j&&(d(),O(!1))}),[j,d]);return Object(c.useEffect)((function(){O(!0)}),[p.length]),Object(v.jsx)(f.a,{items:g,loading:u||s,onScrollToEnd:x})}},582:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r,c=n(20),i=n(599),o=n.n(i),u=n(21),a=Object(u.b)(o.a)(r||(r=Object(c.a)([""])))},703:function(e,t,n){var r=n(704),c=n(36);e.exports=function(e,t,n,i){return null==e?[]:(c(t)||(t=null==t?[]:[t]),c(n=i?void 0:n)||(n=null==n?[]:[n]),r(e,t,n))}},704:function(e,t,n){var r=n(159),c=n(160),i=n(226),o=n(250),u=n(705),a=n(247),s=n(706),l=n(249),f=n(36);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return f(e)?function(t){return c(t,1===e.length?e[0]:e)}:e})):[l];var v=-1;t=r(t,a(i));var d=o(e,(function(e,n,c){return{criteria:r(t,(function(t){return t(e)})),index:++v,value:e}}));return u(d,(function(e,t){return s(e,t,n)}))}},705:function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},706:function(e,t,n){var r=n(707);e.exports=function(e,t,n){for(var c=-1,i=e.criteria,o=t.criteria,u=i.length,a=n.length;++c<u;){var s=r(i[c],o[c]);if(s)return c>=a?s:s*("desc"==n[c]?-1:1)}return e.index-t.index}},707:function(e,t,n){var r=n(111);e.exports=function(e,t){if(e!==t){var n=void 0!==e,c=null===e,i=e===e,o=r(e),u=void 0!==t,a=null===t,s=t===t,l=r(t);if(!a&&!l&&!o&&e>t||o&&u&&s&&!a&&!l||c&&u&&s||!n&&s||!i)return 1;if(!c&&!o&&!l&&e<t||l&&n&&i&&!c&&!o||a&&n&&i||!u&&i||!s)return-1}return 0}},721:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var r=n(46),c=n(20),i=n(0),o=n(513),u=n(703),a=n.n(u),s=n(21),l=n(582),f=n(561),v=n(560),d=n(6),b={useHistoryReplace:!1,deserialize:function(e){return e},serialize:function(e){return String(e)}};var h,j=function(e,t,n){var r=Object(o.e)(),c=Object(i.useMemo)((function(){return Object(d.a)(Object(d.a)({},b),n)}),[n]),u=Object(i.useMemo)((function(){var n=new URLSearchParams(r.location.search).get(e);return n?c.deserialize(n):t}),[e,t,c,r.location.search]),a=Object(i.useCallback)((function(t,n){var i=r.location,o=i.search,u=new URLSearchParams(o),a=c.serialize(t);a?u.set(e,a):u.delete(e);var s="?".concat(u);o!==s&&(n||c.useHistoryReplace?r.replace:r.push)({search:s,hash:i.hash,pathname:i.pathname},i.state)}),[e,c,r]),s=Object(i.useCallback)((function(e){a(t,e)}),[t,a]);return[u,a,s]},O=n(1),p=Object(s.b)(l.a)(h||(h=Object(c.a)(["\n  margin-bottom: 1rem;\n"])));function g(e){return a()(e,"year","desc")}var x=function(){var e,t,n=Object(o.f)(),c=j("q",""),u=Object(r.a)(c,2),a=u[0],s=u[1],l=Object(v.a)("itemsSearch",{q:a,type:null===(e=n.state)||void 0===e?void 0:e.type,field:null===(t=n.state)||void 0===t?void 0:t.field}),d=Object(i.useCallback)((function(e){var t=e.value;s(t)}),[s]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(p,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430 \u0438\u043b\u0438 \u0441\u0435\u0440\u0438\u0430\u043b\u0430...",value:a,onChange:d}),a.length>=3&&Object(O.jsx)(f.a,{queryResult:l,processItems:g})]})}}}]);
//# sourceMappingURL=10.2730162f.chunk.js.map