(this["webpackJsonpkinopub.webos"]=this["webpackJsonpkinopub.webos"]||[]).push([[10],{520:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var r=n(6),o=n(31),u=n(20),c=n(0),i=n(530),a=n.n(i),l=n(21),f=n(47),s=n(38),d=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{disconnectOnLeave:!1},o=t.onEnterViewport,u=t.onLeaveViewport,i=Object(c.useState)(),a=Object(f.a)(i,2),l=a[1],d=Object(c.useRef)(null),b=Object(c.useRef)(!1),p=Object(c.useRef)(!1),v=Object(c.useRef)(0),O=Object(c.useRef)(0),j=Object(c.useCallback)((function(){if(e.current&&d.current){var t=Object(s.findDOMNode)(e.current);t&&d.current.observe(t)}}),[e,d]),h=Object(c.useCallback)((function(){if(e.current&&d.current){var t=Object(s.findDOMNode)(e.current);t&&(d.current.unobserve(t),d.current.disconnect(),d.current=null)}}),[e,d]),y=Object(c.useCallback)((function(e){var t=e[0]||{},n=t.isIntersecting,c=t.intersectionRatio,i="undefined"!==typeof n?n:c>0;if(!p.current&&i)return p.current=!0,null===o||void 0===o||o(),v.current+=1,b.current=i,void l(i);p.current&&!i&&(p.current=!1,null===u||void 0===u||u(),r.disconnectOnLeave&&d.current&&d.current.disconnect(),O.current+=1,b.current=i,l(i))}),[d,r.disconnectOnLeave,o,u]),g=Object(c.useCallback)((function(){d.current||(d.current=new IntersectionObserver(y,n))}),[d,n,y]);return Object(c.useEffect)((function(){return g(),j(),function(){h()}}),[g,j,h]),{inViewport:b.current,enterCount:v.current,leaveCount:O.current}},b=n(729);var p,v=function(e){var t=Object(b.a)();return Object(c.useMemo)((function(){return"".concat(e,"-").concat(t)}),[e,t])},O=n(1),j=["children","onScrollToEnd"],h=l.b.div(p||(p=Object(u.a)(["\n  height: 5rem;\n"]))),y=Object(c.createContext)({}),g=function(e){var t=e.children,n=e.onScrollToEnd,u=Object(o.a)(e,j),i=Object(c.useRef)(null),l=v("scrollable"),f=Object(c.useMemo)((function(){return{id:l}}),[l]);return d(i,{onEnterViewport:n}),Object(O.jsxs)(a.a,Object(r.a)(Object(r.a)({id:l,direction:"vertical",verticalScrollbar:"hidden",horizontalScrollbar:"hidden"},u),{},{children:[Object(O.jsx)(y.Provider,{value:f,children:t}),Object(O.jsx)(h,{ref:i})]}))}},522:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(6),o=n(0),u=n(531),c=n.n(u),i=n(520),a=n(1),l=function(e){var t=Object(o.useContext)(i.a).id;return Object(a.jsx)(c.a,Object(r.a)({once:!0,offset:100,scrollContainer:t&&"#".concat(t)},e))};var f=l},527:function(e,t,n){var r=n(232),o=n(537),u=n(229),c=n(27);e.exports=function(e,t){return(c(e)?r:o)(e,u(t,3))}},532:function(e,t,n){var r=n(229),o=n(539);e.exports=function(e,t){return e&&e.length?o(e,r(t,2)):[]}},537:function(e,t,n){var r=n(233);e.exports=function(e,t){var n=[];return r(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}},538:function(e,t,n){"use strict";t.__esModule=!0;var r=c(n(578)),o=c(n(570)),u=(c(n(561)),c(n(562)),c(n(581)));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return(0,r.default)((function(t,n){return!(0,o.default)((0,u.default)(n,e),(0,u.default)(t,e))}))}},539:function(e,t,n){var r=n(236),o=n(543),u=n(547),c=n(237),i=n(548),a=n(230);e.exports=function(e,t,n){var l=-1,f=o,s=e.length,d=!0,b=[],p=b;if(n)d=!1,f=u;else if(s>=200){var v=t?null:i(e);if(v)return a(v);d=!1,f=c,p=new r}else p=t?[]:b;e:for(;++l<s;){var O=e[l],j=t?t(O):O;if(O=n||0!==O?O:0,d&&j===j){for(var h=p.length;h--;)if(p[h]===j)continue e;t&&p.push(j),b.push(O)}else f(p,j,n)||(p!==b&&p.push(j),b.push(O))}return b}},542:function(e,t,n){"use strict";var r=n(47),o=n(0),u=n(527),c=n.n(u),i=n(555),a=n.n(i),l=n(532),f=n.n(l);t.a=function(e,t){var n=e.data,u=e.isLoading,i=e.isFetchingNextPage,l=e.fetchNextPage,s=Object(o.useState)(!1),d=Object(r.a)(s,2),b=d[0],p=d[1],v=Object(o.useMemo)((function(){return f()(c()(a()(null===n||void 0===n?void 0:n.pages,(function(e){return e.items}))),"id")}),[null===n||void 0===n?void 0:n.pages]),O=Object(o.useMemo)((function(){return t?t(v):v}),[v,t]),j=Object(o.useCallback)((function(){b&&(l(),p(!1))}),[b,l]);return Object(o.useEffect)((function(){p(!0)}),[v.length]),[O,u||i,j]}},543:function(e,t,n){var r=n(544);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},544:function(e,t,n){var r=n(540),o=n(545),u=n(546);e.exports=function(e,t,n){return t===t?u(e,t,n):r(e,o,n)}},545:function(e,t){e.exports=function(e){return e!==e}},546:function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},547:function(e,t){e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},548:function(e,t,n){var r=n(238),o=n(549),u=n(230),c=r&&1/u(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=c},549:function(e,t){e.exports=function(){}},550:function(e,t,n){"use strict";var r=n(6),o=n(54),u=n(0),c=n(610),i=n(142);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=Object(u.useMemo)((function(){return new i.c}),[]),l=Object(c.a)([e].concat(Object(o.a)(t)),(function(n){var r=n.pageParam;return a[e].apply(a,Object(o.a)(t).concat([r]))}),Object(r.a)({getNextPageParam:function(e){var t;return(null===e||void 0===e||null===(t=e.pagination)||void 0===t?void 0:t.current)+1||1}},n));return l}},553:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Changeable=t.default=void 0;var r=n(15),o=l(n(7)),u=n(17),c=l(n(3)),i=n(0),a=(l(n(65)),n(1));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=(0,o.default)({change:"onChange",prop:"value"},(function(e,t){var n,o,l,v=e.prop,j=e.change,h="default"+(0,u.cap)(v);return o=n=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var n,o,u,c=p(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=c.call(this,e)).handle=r.handle.bind(O(t)),t.handleChange=t.handle((0,r.forProp)("disabled",!1),(0,r.forward)(j),(function(e){var n=e[v];t.state.controlled||t.setState((function(e){var t=e.value;return n!==t?{value:n}:null}))})),t.state={rendered:!1,value:null,controlled:v in e},t}return n=i,u=[{key:"getDerivedStateFromProps",value:function(e,t){return!1===t.rendered?{rendered:!0,value:null!=e[v]?e[v]:e[h]}:t.controlled&&t.value!==e[v]?{value:e[v]}:null}}],(o=[{key:"render",value:function(){var e=Object.assign({},this.props);return j&&(e[j]=this.handleChange),v&&(e[v]=this.state.value),delete e[h],(0,a.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}}])&&d(n.prototype,o),u&&d(n,u),i}(i.PureComponent),n.displayName="Changeable",n.propTypes=(s(l={},j,c.default.func),s(l,h,c.default.any),s(l,v,c.default.any),s(l,"disabled",c.default.bool),l),n.defaultProps={disabled:!1},o}));t.Changeable=h;var y=h;t.default=y},561:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(579),u=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){return(0,u.default)("displayName",e)}},562:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(580),u=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){return t+"("+(0,u.default)(e)+")"}},570:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(242),u=(r=o)&&r.__esModule?r:{default:r};t.default=u.default},578:function(e,t,n){"use strict";t.__esModule=!0;var r=n(0);o(n(561)),o(n(562));function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}t.default=function(e){return function(t){var n=(0,r.createFactory)(t);return function(t){function r(){return u(this,r),c(this,t.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),r.prototype.shouldComponentUpdate=function(t){return e(this.props,t)},r.prototype.render=function(){return n(this.props)},r}(r.Component)}}},579:function(e,t,n){"use strict";t.__esModule=!0;t.default=function(e,t){return function(n){return n[e]=t,n}}},580:function(e,t,n){"use strict";t.__esModule=!0;t.default=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":void 0}},581:function(e,t,n){"use strict";t.__esModule=!0;t.default=function(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r];e.hasOwnProperty(o)&&(n[o]=e[o])}return n}},589:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,o=n(6),u=n(31),c=n(20),i=n(0),a=n(606),l=n.n(a),f=n(21),s=n(1),d=["autoFocus"],b=f.b.div(r||(r=Object(c.a)(["\n  display: inline-flex;\n\n  > div {\n    width: 100%;\n  }\n"]))),p=function(e){var t=e.autoFocus,n=Object(u.a)(e,d),r=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e;return t&&(e=requestAnimationFrame((function(){var e,t;null===(e=r.current)||void 0===e||null===(t=e.querySelector("input"))||void 0===t||t.focus()}))),function(){e&&cancelAnimationFrame(e)}}),[r,t]),Object(s.jsx)(b,{ref:r,children:Object(s.jsx)(l.a,Object(o.a)({},n))})}},725:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return R}));var r,o,u,c=n(47),i=n(20),a=n(0),l=n(21),f=n(589),s=n(54),d=n(102),b=n.n(d),p=n(517),v=n(528),O=n.n(v),j=n(522),h=n(5),y=n(1),g=Object(l.b)(j.a)(r||(r=Object(i.a)(["\n  display: inline-flex;\n  position: relative;\n  height: 20rem !important;\n  width: 20%;\n"]))),m=Object(l.b)(O.a)(o||(o=Object(i.a)(["\n  width: 100%;\n"]))),w=function(e){var t=e.collection,n=Object(p.e)(),r=Object(a.useCallback)((function(){(null===t||void 0===t?void 0:t.id)&&n.push(Object(h.b)(h.a.Collection,{collectionId:t.id}))}),[null===t||void 0===t?void 0:t.id,n]);return Object(y.jsx)(g,{height:"20rem",children:Object(y.jsx)(m,{source:null===t||void 0===t?void 0:t.posters.medium,caption:null===t||void 0===t?void 0:t.title,onClick:r})})},_=n(520),x=function(e){var t=e.collections,n=e.loading,r=e.onScrollToEnd;return Object(y.jsxs)(_.b,{onScrollToEnd:r,children:[b()(t,(function(e){return Object(y.jsx)(w,{collection:e},e.id)})),n&&b()(Object(s.a)(new Array(15)),(function(e,t){return Object(y.jsx)(w,{},t)}))]})},P=n(542),C=function(e){var t=e.queryResult,n=e.processItems,r=Object(P.a)(t,n),o=Object(c.a)(r,3),u=o[0],i=o[1],a=o[2];return Object(y.jsx)(x,{collections:u,loading:i,onScrollToEnd:a})},M=n(550),E=Object(l.b)(f.a)(u||(u=Object(i.a)(["\n  margin-bottom: 1rem;\n"]))),R=function(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),n=t[0],r=t[1],o=Object(M.a)("collections",[n,"watchers-"]),u=Object(a.useCallback)((function(e){var t=e.value;r(t)}),[r]);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(E,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0431\u043e\u0440\u043a\u0438...",value:n,onChange:u}),Object(y.jsx)(C,{queryResult:o})]})}}}]);
//# sourceMappingURL=10.6febc930.chunk.js.map