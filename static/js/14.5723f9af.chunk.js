(this["webpackJsonpkinopub.webos"]=this["webpackJsonpkinopub.webos"]||[]).push([[14],{517:function(e,n,t){"use strict";t.d(n,"b",(function(){return p})),t.d(n,"a",(function(){return m}));var r=t(6),c=t(32),i=t(20),u=t(0),o=t(526),a=t.n(o),l=t(21),s=t(46),b=t(38),d=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{disconnectOnLeave:!1},c=n.onEnterViewport,i=n.onLeaveViewport,o=Object(u.useState)(),a=Object(s.a)(o,2),l=a[1],d=Object(u.useRef)(null),f=Object(u.useRef)(!1),v=Object(u.useRef)(!1),j=Object(u.useRef)(0),O=Object(u.useRef)(0),h=Object(u.useCallback)((function(){if(e.current&&d.current){var n=Object(b.findDOMNode)(e.current);n&&d.current.observe(n)}}),[e,d]),m=Object(u.useCallback)((function(){if(e.current&&d.current){var n=Object(b.findDOMNode)(e.current);n&&(d.current.unobserve(n),d.current.disconnect(),d.current=null)}}),[e,d]),p=Object(u.useCallback)((function(e){var n=e[0]||{},t=n.isIntersecting,u=n.intersectionRatio,o="undefined"!==typeof t?t:u>0;if(!v.current&&o)return v.current=!0,null===c||void 0===c||c(),j.current+=1,f.current=o,void l(o);v.current&&!o&&(v.current=!1,null===i||void 0===i||i(),r.disconnectOnLeave&&d.current&&d.current.disconnect(),O.current+=1,f.current=o,l(o))}),[d,r.disconnectOnLeave,c,i]),g=Object(u.useCallback)((function(){d.current||(d.current=new IntersectionObserver(p,t))}),[d,t,p]);return Object(u.useEffect)((function(){return g(),h(),function(){m()}}),[g,h,m]),{inViewport:f.current,enterCount:j.current,leaveCount:O.current}},f=t(725);var v,j=function(e){var n=Object(f.a)();return Object(u.useMemo)((function(){return"".concat(e,"-").concat(n)}),[e,n])},O=t(1),h=l.b.div(v||(v=Object(i.a)(["\n  height: 5rem;\n"]))),m=Object(u.createContext)({}),p=function(e){var n=e.children,t=e.onScrollToEnd,i=Object(c.a)(e,["children","onScrollToEnd"]),o=Object(u.useRef)(null),l=j("scrollable"),s=Object(u.useMemo)((function(){return{id:l}}),[l]);return d(o,{onEnterViewport:t}),Object(O.jsxs)(a.a,Object(r.a)(Object(r.a)({id:l,direction:"vertical",verticalScrollbar:"hidden",horizontalScrollbar:"hidden"},i),{},{children:[Object(O.jsx)(m.Provider,{value:s,children:n}),Object(O.jsx)(h,{ref:o})]}))}},519:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var r=t(6),c=t(0),i=t(527),u=t.n(i),o=t(517),a=t(1),l=function(e){var n=Object(c.useContext)(o.a).id;return Object(a.jsx)(u.a,Object(r.a)({once:!0,offset:100,scrollContainer:n&&"#".concat(n)},e))};var s=l},523:function(e,n,t){"use strict";t.d(n,"a",(function(){return C}));var r,c,i,u=t(76),o=t(0),a=t(102),l=t.n(a),s=t(517),b=t(20),d=t(514),f=t(525),v=t.n(f),j=t(21),O=t(519),h=t(5),m=t(1),p=Object(j.b)(O.a)(r||(r=Object(b.a)(["\n  display: inline-flex;\n  position: relative;\n  height: 20rem !important;\n  width: 20%;\n"]))),g=Object(j.b)(v.a)(c||(c=Object(b.a)(["\n  width: 100%;\n"]))),x=j.b.div(i||(i=Object(b.a)(["\n  position: absolute;\n  background: var(--main-color);\n  right: 0;\n  z-index: 1;\n  padding: 0 0.5em;\n  font-size: 0.75rem;\n  margin-top: 0.25rem;\n  margin-right: 0.25rem;\n"]))),w=function(e){var n=e.item,t=Object(d.e)(),r=Object(o.useCallback)((function(){(null===n||void 0===n?void 0:n.id)&&t.push(Object(h.b)(h.a.Item,{itemId:n.id}))}),[null===n||void 0===n?void 0:n.id,t]);return Object(m.jsxs)(p,{height:"20rem",children:[Object(m.jsx)(x,{children:null===n||void 0===n?void 0:n.new}),Object(m.jsx)(g,{source:null===n||void 0===n?void 0:n.posters.medium,caption:null===n||void 0===n?void 0:n.title,onClick:r})]})},C=function(e){var n=e.items,t=e.loading,r=e.onScrollToEnd,c=e.scrollable,i=void 0===c||c,o=Object(m.jsxs)(m.Fragment,{children:[l()(n,(function(e){return Object(m.jsx)(w,{item:e},e.id)})),t&&l()(Object(u.a)(new Array(15)),(function(e,n){return Object(m.jsx)(w,{},n)}))]});return i?Object(m.jsx)(s.b,{onScrollToEnd:r,children:o}):o}},538:function(e,n,t){"use strict";var r=t(46),c=t(0),i=t(524),u=t.n(i),o=t(551),a=t.n(o),l=t(528),s=t.n(l);n.a=function(e,n){var t=e.data,i=e.isLoading,o=e.isFetchingNextPage,l=e.fetchNextPage,b=Object(c.useState)(!1),d=Object(r.a)(b,2),f=d[0],v=d[1],j=Object(c.useMemo)((function(){return s()(u()(a()(null===t||void 0===t?void 0:t.pages,(function(e){return e.items}))),"id")}),[null===t||void 0===t?void 0:t.pages]),O=Object(c.useMemo)((function(){return n?n(j):j}),[j,n]),h=Object(c.useCallback)((function(){f&&(l(),v(!1))}),[f,l]);return Object(c.useEffect)((function(){v(!0)}),[j.length]),[O,i||o,h]}},546:function(e,n,t){"use strict";var r=t(6),c=t(76),i=t(0),u=t(605),o=t(142);n.a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0,a=Object(i.useMemo)((function(){return new o.c}),[]),l=Object(u.a)([e].concat(Object(c.a)(n)),(function(t){var r=t.pageParam;return a[e].apply(a,Object(c.a)(n).concat([r]))}),Object(r.a)({getNextPageParam:function(e){var n;return(null===e||void 0===e||null===(n=e.pagination)||void 0===n?void 0:n.current)+1||1}},t));return l}},563:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r=t(46),c=t(523),i=t(538),u=t(1),o=function(e){var n=e.queryResult,t=e.processItems,o=Object(i.a)(n,t),a=Object(r.a)(o,3),l=a[0],s=a[1],b=a[2];return Object(u.jsx)(c.a,{items:l,loading:s,onScrollToEnd:b})}},584:function(e,n,t){"use strict";t.d(n,"a",(function(){return f}));var r,c=t(6),i=t(32),u=t(20),o=t(0),a=t(601),l=t.n(a),s=t(21),b=t(1),d=s.b.div(r||(r=Object(u.a)(["\n  display: inline-flex;\n\n  > div {\n    width: 100%;\n  }\n"]))),f=function(e){var n=e.autoFocus,t=Object(i.a)(e,["autoFocus"]),r=Object(o.useRef)(null);return Object(o.useEffect)((function(){var e;return n&&(e=requestAnimationFrame((function(){var e,n;null===(e=r.current)||void 0===e||null===(n=e.querySelector("input"))||void 0===n||n.focus()}))),function(){e&&cancelAnimationFrame(e)}}),[r,n]),Object(b.jsx)(d,{ref:r,children:Object(b.jsx)(l.a,Object(c.a)({},t))})}},706:function(e,n,t){var r=t(707),c=t(26);e.exports=function(e,n,t,i){return null==e?[]:(c(n)||(n=null==n?[]:[n]),c(t=i?void 0:t)||(t=null==t?[]:[t]),r(e,n,t))}},707:function(e,n,t){var r=t(159),c=t(160),i=t(227),u=t(251),o=t(708),a=t(248),l=t(709),s=t(250),b=t(26);e.exports=function(e,n,t){n=n.length?r(n,(function(e){return b(e)?function(n){return c(n,1===e.length?e[0]:e)}:e})):[s];var d=-1;n=r(n,a(i));var f=u(e,(function(e,t,c){return{criteria:r(n,(function(n){return n(e)})),index:++d,value:e}}));return o(f,(function(e,n){return l(e,n,t)}))}},708:function(e,n){e.exports=function(e,n){var t=e.length;for(e.sort(n);t--;)e[t]=e[t].value;return e}},709:function(e,n,t){var r=t(710);e.exports=function(e,n,t){for(var c=-1,i=e.criteria,u=n.criteria,o=i.length,a=t.length;++c<o;){var l=r(i[c],u[c]);if(l)return c>=a?l:l*("desc"==t[c]?-1:1)}return e.index-n.index}},710:function(e,n,t){var r=t(111);e.exports=function(e,n){if(e!==n){var t=void 0!==e,c=null===e,i=e===e,u=r(e),o=void 0!==n,a=null===n,l=n===n,s=r(n);if(!a&&!s&&!u&&e>n||u&&o&&l&&!a&&!s||c&&o&&l||!t&&l||!i)return 1;if(!c&&!u&&!s&&e<n||s&&t&&i&&!c&&!u||a&&t&&i||!o&&i||!l)return-1}return 0}},724:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return g}));var r=t(46),c=t(20),i=t(0),u=t(514),o=t(706),a=t.n(o),l=t(21),s=t(584),b=t(563),d=t(546),f=t(6),v={useHistoryReplace:!1,deserialize:function(e){return e},serialize:function(e){return String(e)}};var j,O=function(e,n,t){var r=Object(u.e)(),c=Object(i.useMemo)((function(){return Object(f.a)(Object(f.a)({},v),t)}),[t]),o=Object(i.useMemo)((function(){var t=new URLSearchParams(r.location.search).get(e);return t?c.deserialize(t):n}),[e,n,c,r.location.search]),a=Object(i.useCallback)((function(n,t){var i=r.location,u=i.search,o=new URLSearchParams(u),a=c.serialize(n);a?o.set(e,a):o.delete(e);var l="?".concat(o);u!==l&&(t||c.useHistoryReplace?r.replace:r.push)({search:l,hash:i.hash,pathname:i.pathname},i.state)}),[e,c,r]),l=Object(i.useCallback)((function(e){a(n,e)}),[n,a]);return[o,a,l]},h=t(1),m=Object(l.b)(s.a)(j||(j=Object(c.a)(["\n  margin-bottom: 1rem;\n"])));function p(e){return a()(e,"year","desc")}var g=function(){var e,n,t=Object(u.f)(),c=O("q",""),o=Object(r.a)(c,2),a=o[0],l=o[1],s=Object(d.a)("itemsSearch",[{q:a,type:null===(e=t.state)||void 0===e?void 0:e.type,field:null===(n=t.state)||void 0===n?void 0:n.field}]),f=Object(i.useCallback)((function(e){var n=e.value;l(n)}),[l]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m,{autoFocus:!0,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430 \u0438\u043b\u0438 \u0441\u0435\u0440\u0438\u0430\u043b\u0430...",value:a,onChange:f}),a.length>=3&&Object(h.jsx)(b.a,{queryResult:s,processItems:p})]})}}}]);
//# sourceMappingURL=14.5723f9af.chunk.js.map