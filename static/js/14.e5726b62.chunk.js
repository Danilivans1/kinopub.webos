(this["webpackJsonpkinopub.webos"]=this["webpackJsonpkinopub.webos"]||[]).push([[14],{521:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return m}));var o=n(6),i=n(31),r=n(20),c=n(0),u=n(531),a=n.n(u),l=n(21),s=n(47),d=n(38),p=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{disconnectOnLeave:!1},i=t.onEnterViewport,r=t.onLeaveViewport,u=Object(c.useState)(),a=Object(s.a)(u,2),l=a[1],p=Object(c.useRef)(null),f=Object(c.useRef)(!1),b=Object(c.useRef)(!1),v=Object(c.useRef)(0),j=Object(c.useRef)(0),O=Object(c.useCallback)((function(){if(e.current&&p.current){var t=Object(d.findDOMNode)(e.current);t&&p.current.observe(t)}}),[e,p]),h=Object(c.useCallback)((function(){if(e.current&&p.current){var t=Object(d.findDOMNode)(e.current);t&&(p.current.unobserve(t),p.current.disconnect(),p.current=null)}}),[e,p]),m=Object(c.useCallback)((function(e){var t=e[0]||{},n=t.isIntersecting,c=t.intersectionRatio,u="undefined"!==typeof n?n:c>0;if(!b.current&&u)return b.current=!0,null===i||void 0===i||i(),v.current+=1,f.current=u,void l(u);b.current&&!u&&(b.current=!1,null===r||void 0===r||r(),o.disconnectOnLeave&&p.current&&p.current.disconnect(),j.current+=1,f.current=u,l(u))}),[p,o.disconnectOnLeave,i,r]),y=Object(c.useCallback)((function(){p.current||(p.current=new IntersectionObserver(m,n))}),[p,n,m]);return Object(c.useEffect)((function(){return y(),O(),function(){h()}}),[y,O,h]),{inViewport:f.current,enterCount:v.current,leaveCount:j.current}},f=n(730);var b,v=function(e){var t=Object(f.a)();return Object(c.useMemo)((function(){return"".concat(e,"-").concat(t)}),[e,t])},j=n(1),O=["children","onScrollToEnd"],h=l.b.div(b||(b=Object(r.a)(["\n  height: 5rem;\n"]))),m=Object(c.createContext)({}),y=function(e){var t=e.children,n=e.onScrollToEnd,r=Object(i.a)(e,O),u=Object(c.useRef)(null),l=v("scrollable"),s=Object(c.useMemo)((function(){return{id:l}}),[l]);return p(u,{onEnterViewport:n}),Object(j.jsxs)(a.a,Object(o.a)(Object(o.a)({id:l,direction:"vertical",verticalScrollbar:"hidden",horizontalScrollbar:"hidden"},r),{},{children:[Object(j.jsx)(m.Provider,{value:s,children:t}),Object(j.jsx)(h,{ref:u})]}))}},522:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o,i=n(20),r=n(526),c=n.n(r),u=n(21),a=Object(u.b)(c.a)(o||(o=Object(i.a)([""])))},523:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(6),i=n(0),r=n(532),c=n.n(r),u=n(521),a=n(1),l=function(e){var t=Object(i.useContext)(u.a).id;return Object(a.jsx)(c.a,Object(o.a)({once:!0,offset:100,scrollContainer:t&&"#".concat(t)},e))};var s=l},524:function(e,t,n){"use strict";var o=n(54),i=n(0),r=n(552),c=n(142);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,u=Object(i.useMemo)((function(){return new c.c}),[]),a=Object(r.a)([e].concat(Object(o.a)(t)),(function(){return u[e].apply(u,Object(o.a)(t))}),n);return a}},527:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var o,i,r,c=n(54),u=n(0),a=n(102),l=n.n(a),s=n(521),d=n(20),p=n(518),f=n(529),b=n.n(f),v=n(21),j=n(523),O=n(5),h=n(1),m=Object(v.b)(j.a)(o||(o=Object(d.a)(["\n  display: inline-flex;\n  position: relative;\n  height: 20rem !important;\n  width: 20%;\n"]))),y=Object(v.b)(b.a)(i||(i=Object(d.a)(["\n  width: 100%;\n"]))),g=v.b.div(r||(r=Object(d.a)(["\n  position: absolute;\n  background: var(--main-color);\n  right: 0;\n  z-index: 1;\n  padding: 0 0.5em;\n  font-size: 0.75rem;\n  margin-top: 0.25rem;\n  margin-right: 0.25rem;\n"]))),w=function(e){var t=e.item,n=Object(p.e)(),o=Object(u.useCallback)((function(){(null===t||void 0===t?void 0:t.id)&&n.push(Object(O.b)(O.a.Item,{itemId:t.id}))}),[null===t||void 0===t?void 0:t.id,n]);return Object(h.jsxs)(m,{height:"20rem",children:[Object(h.jsx)(g,{children:null===t||void 0===t?void 0:t.new}),Object(h.jsx)(y,{source:null===t||void 0===t?void 0:t.posters.medium,caption:null===t||void 0===t?void 0:t.title,onClick:o})]})},x=function(e){var t=e.items,n=e.loading,o=e.onScrollToEnd,i=e.scrollable,r=void 0===i||i,u=Object(h.jsxs)(h.Fragment,{children:[l()(t,(function(e){return Object(h.jsx)(w,{item:e},e.id)})),n&&l()(Object(c.a)(new Array(15)),(function(e,t){return Object(h.jsx)(w,{},t)}))]});return r?Object(h.jsx)(s.b,{onScrollToEnd:o,children:u}):u}},530:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var o,i,r,c=n(6),u=n(31),a=n(20),l=n(0),s=n(232),d=n.n(s),p=n(21),f=n(107),b=n(1),v=["icon","iconOnly","children","autoFocus"],j=p.b.div(o||(o=Object(a.a)(["\n  display: inline-flex;\n\n  > div {\n    width: 100%;\n  }\n"]))),O=Object(p.b)(d.a)(i||(i=Object(a.a)(["\n  color: inherit;\n  text-decoration: none;\n"]))),h=p.b.div(r||(r=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  color: inherit;\n  text-decoration: none;\n\n  "," {\n    margin-right: ",";\n  }\n"])),f.a,(function(e){return!e.iconOnly&&"0.5rem"})),m=function(e){var t=e.icon,n=e.iconOnly,o=e.children,i=e.autoFocus,r=Object(u.a)(e,v),a=Object(l.useRef)(null);return Object(l.useEffect)((function(){var e;return i&&(e=requestAnimationFrame((function(){var e,t;null===(e=a.current)||void 0===e||null===(t=e.querySelector('[role="button"]'))||void 0===t||t.focus()}))),function(){e&&cancelAnimationFrame(e)}}),[a,i]),Object(b.jsx)(j,{ref:a,children:Object(b.jsx)(O,Object(c.a)(Object(c.a)({},r),{},{children:Object(b.jsxs)(h,{iconOnly:n,children:[t&&Object(b.jsx)(f.a,{name:t}),!n&&o]})}))})}},555:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n(6),i=n(31),r=n(0),c=n(565),u=n.n(c),a=n(146),l=n(1),s=["visible","onVisibilityChange"],d=function(e){var t=e.visible,n=e.onVisibilityChange,c=Object(i.a)(e,s),d=Object(r.useCallback)((function(){n(!0)}),[n]),p=Object(r.useCallback)((function(){n(!1)}),[n]),f=Object(r.useCallback)((function(){if(t)return n(!1),!1}),[t,n]);return Object(a.a)(f),Object(l.jsx)(u.a,Object(o.a)(Object(o.a)({},c),{},{open:t,onShow:d,onClose:p}))}},565:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupBase=t.Popup=t.default=void 0;var o=n(39),i=n(49),r=n(240),c=g(n(108)),u=g(n(11)),a=n(0),l=g(n(3)),s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(40)),d=g(n(106)),p=g(n(143)),f=g(n(585)),b=n(15),v=(g(n(65)),g(n(103))),j=g(n(236)),O=g(n(25)),h=g(n(586)),m=n(1);function y(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function g(e){return e&&e.__esModule?e:{default:e}}function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=P(e);if(t){var i=P(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var I=(0,o.is)("up"),T=(0,p.default)({enterTo:"default-element",preserveId:!0},f.default),D=function(e){return document.querySelector("[data-spotlight-id='".concat(e,"']"))},R=(0,b.forward)("onHide"),M=(0,b.forward)("onShow"),L=(0,u.default)({name:"PopupBase",propTypes:{children:l.default.node.isRequired,closeButtonAriaLabel:l.default.string,css:l.default.object,noAnimation:l.default.bool,onCloseButtonClick:l.default.func,onHide:l.default.func,onShow:l.default.func,open:l.default.bool,showCloseButton:l.default.bool,shrinkBody:l.default.bool,spotlightId:l.default.string,spotlightRestrict:l.default.oneOf(["none","self-first","self-only"])},defaultProps:{noAnimation:!1,open:!1,showCloseButton:!1,shrinkBody:!1,spotlightRestrict:"self-only"},styles:{css:h.default,className:"popup",publicClassNames:["popup","body","closeContainer","reserveClose"]},computed:{className:function(e){var t=e.showCloseButton;return e.styler.append({reserveClose:t})},closeButton:function(e){var t=e.closeButtonAriaLabel,n=e.css,o=e.onCloseButtonClick;if(e.showCloseButton){var i=null==t?(0,v.default)("Close"):t;return(0,m.jsx)(r.Cell,{shrink:!0,className:n.closeContainer,children:(0,m.jsx)(j.default,{className:n.closeButton,backgroundOpacity:"transparent",size:"small",onTap:o,"aria-label":i,children:"closex"})})}}},render:function(e){var t=e.children,n=e.closeButton,o=e.css,i=e.noAnimation,c=e.onHide,u=e.onShow,a=e.open,l=e.shrinkBody,s=e.spotlightId,d=e.spotlightRestrict,p=B(e,["children","closeButton","css","noAnimation","onHide","onShow","open","shrinkBody","spotlightId","spotlightRestrict"]);return delete p.closeButtonAriaLabel,delete p.onCloseButtonClick,delete p.showCloseButton,(0,m.jsx)(T,{className:o.popupTransitionContainer,direction:"down",duration:"short",noAnimation:i,onHide:c,onShow:u,spotlightDisabled:!a,spotlightId:s,spotlightRestrict:d,type:"slide",visible:a,children:(0,m.jsxs)(r.Row,A(A({"aria-live":"off",role:"alert"},p),{},{children:[(0,m.jsx)(r.Cell,{className:o.body,shrink:l,children:t}),n]}))})}});t.PopupBase=L;var E=(0,O.default)({defaultSkin:"light"},L),H=function(e){"none"===e.scrimType&&e.spotlightRestrict},F=0,N=1,V=2,W=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(u,e);var t,n,o,r=C(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=r.call(this,e)).handleFloatingLayerOpen=function(){t.props.noAnimation||t.state.popupOpen===V?t.state.popupOpen===V&&t.props.open&&t.spotPopupContent():t.setState({popupOpen:N})},t.handleKeyDown=function(e){var n,o=t.props,i=o.onClose,r=o.spotlightRestrict,c=e.keyCode,u=(0,s.getDirection)(c),a=s.default.getSpottableDescendants(t.state.containerId).length;u&&i&&(a&&s.default.getCurrent()&&"self-only"!==r&&(n=s.default.move(u))&&e.stopPropagation(),(!a||!1===n&&I(c))&&(e.preventDefault(),e.stopPropagation(),s.default.setPointerMode(!1),i(e)))},t.handlePopupHide=function(e){R(e,t.props),t.setState({floatLayerOpen:!1,activator:null}),e.currentTarget.getAttribute("data-spotlight-id")===t.state.containerId&&(t.paused.resume(),t.props.open||t.spotActivator(t.state.activator))},t.handlePopupShow=function(e){M(e,t.props),t.setState({popupOpen:V}),e.currentTarget.getAttribute("data-spotlight-id")===t.state.containerId&&(t.paused.resume(),t.props.open&&t.spotPopupContent())},t.spotActivator=function(e){var n=s.default.getCurrent(),o=D(t.state.containerId);(0,i.off)("keydown",t.handleKeyDown),(!n||o&&o.contains(n))&&(s.default.focus(e)||s.default.focus())},t.spotPopupContent=function(){var e=t.state.containerId;if((0,i.on)("keydown",t.handleKeyDown),!s.default.focus(e)){var n=s.default.getCurrent();n&&n.blur(),s.default.setActiveContainer(e)}},t.paused=new d.default("Popup"),t.state={floatLayerOpen:t.props.open,popupOpen:t.props.open?V:F,prevOpen:t.props.open,containerId:s.default.add(),activator:null},H(t.props),t}return t=u,o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.open!==t.prevOpen?e.open?{popupOpen:e.noAnimation||t.floatLayerOpen?V:F,floatLayerOpen:!0,activator:s.default.getCurrent(),prevOpen:e.open}:{popupOpen:F,floatLayerOpen:t.popupOpen!==F&&!e.noAnimation,activator:e.noAnimation?null:t.activator,prevOpen:e.open}:null}}],(n=[{key:"componentDidMount",value:function(){this.props.open&&D(this.state.containerId)&&this.spotPopupContent()}},{key:"componentDidUpdate",value:function(e,t){this.props.open!==e.open&&(this.props.noAnimation?this.props.open?(M({},this.props),this.spotPopupContent()):e.open&&(R({},this.props),this.spotActivator(t.activator)):this.paused.pause()),H(this.props)}},{key:"componentWillUnmount",value:function(){this.props.open&&(0,i.off)("keydown",this.handleKeyDown),s.default.remove(this.state.containerId)}},{key:"render",value:function(){var e=this.props,t=e.noAutoDismiss,n=e.onClose,o=e.scrimType,i=B(e,["noAutoDismiss","onClose","scrimType"]);return delete i.spotlightRestrict,(0,m.jsx)(c.default,{noAutoDismiss:t,open:this.state.floatLayerOpen,onOpen:this.handleFloatingLayerOpen,onDismiss:n,scrimType:o,children:(0,m.jsx)(E,A(A({},i),{},{"data-webos-voice-exclusive":!0,onCloseButtonClick:n,onHide:this.handlePopupHide,onShow:this.handlePopupShow,open:this.state.popupOpen>=N,spotlightId:this.state.containerId,spotlightRestrict:"self-only"}))})}}])&&w(t.prototype,n),o&&w(t,o),u}(a.Component);t.Popup=W,W.propTypes={closeButtonAriaLabel:l.default.string,noAnimation:l.default.bool,noAutoDismiss:l.default.bool,onClose:l.default.func,onHide:l.default.func,onKeyDown:l.default.func,onShow:l.default.func,open:l.default.bool,scrimType:l.default.oneOf(["transparent","translucent","none"]),showCloseButton:l.default.bool,spotlightRestrict:l.default.oneOf(["self-first","self-only"])},W.defaultProps={noAnimation:!1,noAutoDismiss:!1,open:!1,scrimType:"translucent",showCloseButton:!1,spotlightRestrict:"self-only"};var z=W;t.default=z},586:function(e,t,n){e.exports={popup:"Popup_popup__2HsFP",body:"Popup_body__3BCU3",closeContainer:"Popup_closeContainer__3sD4a",closeButton:"Popup_closeButton__1fhLb",reserveClose:"Popup_reserveClose__22HYl",popupTransitionContainer:"Popup_popupTransitionContainer__3gLdv"}},589:function(e,t,n){"use strict";function o(e,t,n){return n?"".concat(null===e||void 0===e?void 0:e.title," (s").concat(n.number,"e").concat((null===t||void 0===t?void 0:t.number)||1,")"):null===e||void 0===e?void 0:e.title}n.d(t,"a",(function(){return o}))},709:function(e,t,n){var o=n(710)(n(610));e.exports=o},710:function(e,t,n){var o=n(230),i=n(121),r=n(120);e.exports=function(e){return function(t,n,c){var u=Object(t);if(!i(t)){var a=o(n,3);t=r(t),n=function(e){return a(u[e],e,u)}}var l=e(t,n,c);return l>-1?u[a?t[l]:l]:void 0}}},725:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return pe}));var o,i,r,c,u,a,l=n(13),s=n.n(l),d=n(23),p=n(47),f=n(20),b=n(0),v=n(518),j=n(102),O=n.n(j),h=n(21),m=n(142),y=n(530),g=n(527),w=n(523),x=n(555),C=n(521),k=n(609),P=n.n(k),_=n(529),A=n.n(_),S=n(5),B=n(1),I=h.b.div(o||(o=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),T=Object(h.b)(A.a)(i||(i=Object(f.a)(["\n  width: 9rem;\n  height: 15rem !important;\n\n  [role='img'] {\n    position: relative;\n    ","\n  }\n"])),(function(e){return e.watched&&Object(h.a)(r||(r=Object(f.a)(["\n        :before {\n          content: '\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e';\n          position: absolute;\n          top: 0;\n          bottom: 0;\n          left: 0;\n          right: 0;\n          padding-left: 1rem;\n          padding-top: 5rem;\n          background: rgba(0, 0, 0, 0.5);\n        }\n      "])))})),D=function(e){var t=e.item,n=e.season,o=Object(v.e)(),i=Object(b.useCallback)((function(e){return function(){(null===e||void 0===e?void 0:e.id)&&o.push(Object(S.b)(S.a.Video,{videoId:e.id}),{item:t,video:e,season:n})}}),[t,n,o]);return Object(B.jsx)(I,{children:Object(B.jsx)(P.a,{title:"\u0421\u0435\u0437\u043e\u043d ".concat(n.number),children:O()(n.episodes,(function(e){return Object(B.jsx)(T,{source:e.thumbnail,caption:"\u042d\u043f\u0438\u0437\u043e\u0434 ".concat(e.number),onClick:i(e),watched:e.watched===m.b.Watched},e.id)}))})})},R=n(522),M=h.b.div(c||(c=Object(f.a)(["\n  padding: 2rem;\n"]))),L=function(e){var t=e.item,n=e.seasons;return(null===n||void 0===n?void 0:n.length)?Object(B.jsxs)(M,{children:[Object(B.jsx)(R.a,{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0435\u0437\u043e\u043d\u043e\u0432"}),O()(n,(function(e){return Object(B.jsx)(D,{item:t,season:e},e.id)}))]}):null},E=n(558),H=n.n(E),F=n(524),N=n(113),V=h.b.div(u||(u=Object(f.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]))),W=h.b.div(a||(a=Object(f.a)(["\n  flex-basis: 20%;\n  padding: 1rem;\n"]))),z=function(e){var t=e.itemId,n=Object(F.a)("bookmarks").data,o=Object(F.a)("itemBookmarks",[t]),i=o.data,r=o.dataUpdatedAt,c=o.refetch,u=Object(N.a)("bookmarkToggleItem").bookmarkToggleItemAsync,a=Object(b.useMemo)((function(){return(null===i||void 0===i?void 0:i.folders.map((function(e){return e.id})))||[]}),[null===i||void 0===i?void 0:i.folders]),l=Object(b.useCallback)((function(e){return Object(d.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u([t,e.id]);case 2:c();case 3:case"end":return n.stop()}}),n)})))}),[t,u,c]);return Object(B.jsx)(V,{children:O()(null===n||void 0===n?void 0:n.items,(function(e){return Object(B.jsx)(W,{children:Object(B.jsx)(H.a,{defaultSelected:a.includes(e.id),onToggle:l(e),children:e.title})},e.updated)}))},r)},K=n(151);var q=function(e){Object(b.useEffect)((function(){var t=function(t){Object(K.b)(t)&&e()};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[e])},U=n(709),J=n.n(U),Y=n(163);var G,Q,X,Z,$,ee,te,ne=function(){var e=Object(F.a)("streamingTypes").data,t=Object(F.a)("deviceInfo").data,n=Object(Y.a)("streaming_type"),o=Object(p.a)(n,2)[1],i=Object(b.useMemo)((function(){return J()(null===t||void 0===t?void 0:t.device.settings.streamingType.value,(function(e){return e.selected===m.a.True}))}),[null===t||void 0===t?void 0:t.device]),r=Object(b.useMemo)((function(){return J()(null===e||void 0===e?void 0:e.items,(function(e){return(null===e||void 0===e?void 0:e.id)===(null===i||void 0===i?void 0:i.id)}))}),[null===e||void 0===e?void 0:e.items,i]);Object(b.useEffect)((function(){(null===r||void 0===r?void 0:r.code)&&o(null===r||void 0===r?void 0:r.code)}),[o,null===r||void 0===r?void 0:r.code])},oe=n(589),ie=h.b.div(G||(G=Object(f.a)(["\n  position: relative;\n"]))),re=h.b.div(Q||(Q=Object(f.a)(["\n  width: 100vw;\n  min-height: 100vh;\n  background: url(",");\n  background-size: cover;\n"])),(function(e){return e.src})),ce=Object(h.b)(R.a)(X||(X=Object(f.a)(["\n  position: absolute;\n  padding: 0 1rem;\n  top: 0;\n"]))),ue=h.b.div(Z||(Z=Object(f.a)(["\n  display: flex;\n  justify-content: space-between;\n  position: absolute;\n  left: 1rem;\n  right: 1rem;\n  bottom: 5rem;\n"]))),ae=h.b.div($||($=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 2rem;\n  white-space: pre-wrap;\n"]))),le=h.b.div(ee||(ee=Object(f.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  height: 35rem;\n\n  p {\n    margin: 0.1rem;\n    font-size: 0.8rem;\n  }\n"]))),se=h.b.div(te||(te=Object(f.a)(["\n  padding: 2rem;\n"]))),de=function(e){var t=e.itemId,n=Object(F.a)("itemSmiliar",[t]).data;return n&&n.items.length>0?Object(B.jsxs)(se,{children:[Object(B.jsx)(R.a,{children:"\u041f\u043e\u0445\u043e\u0436\u0438\u0435"}),Object(B.jsx)(g.a,{items:n.items,scrollable:!1})]}):null},pe=function(){var e,t,n,o,i=Object(v.e)(),r=Object(v.g)().itemId,c=Object(b.useState)(!1),u=Object(p.a)(c,2),a=u[0],l=u[1],f=Object(F.a)("itemMedia",[r],{staleTime:0}),j=f.data,h=f.refetch,g=Object(N.a)("watchingToggleWatchlist").watchingToggleWatchlistAsync,k=Object(b.useMemo)((function(){var e,t;return(null===j||void 0===j||null===(e=j.item.videos)||void 0===e?void 0:e.find((function(e){return e.watching.status!==m.b.Watched})))||(null===j||void 0===j||null===(t=j.item.videos)||void 0===t?void 0:t[0])}),[null===j||void 0===j?void 0:j.item]),P=Object(b.useMemo)((function(){var e,t;return(null===j||void 0===j||null===(e=j.item.seasons)||void 0===e?void 0:e.find((function(e){return e.watching.status!==m.b.Watched})))||(null===j||void 0===j||null===(t=j.item.seasons)||void 0===t?void 0:t[0])}),[null===j||void 0===j?void 0:j.item]),_=Object(b.useMemo)((function(){return(null===P||void 0===P?void 0:P.episodes.find((function(e){return e.watching.status!==m.b.Watched})))||(null===P||void 0===P?void 0:P.episodes[0])}),[P]),A=Object(b.useMemo)((function(){return null===j||void 0===j?void 0:j.item.trailer}),[null===j||void 0===j?void 0:j.item]),I=k||_,T=Object(b.useMemo)((function(){return Object(oe.a)(null===j||void 0===j?void 0:j.item,I,P)}),[null===j||void 0===j?void 0:j.item,P,I]),D=Object(b.useCallback)((function(){(null===I||void 0===I?void 0:I.id)&&i.push(Object(S.b)(S.a.Video,{videoId:I.id}),{item:null===j||void 0===j?void 0:j.item,video:I,season:P})}),[i,null===j||void 0===j?void 0:j.item,P,I]),M=Object(b.useCallback)((function(){(null===A||void 0===A?void 0:A.id)&&i.push(Object(S.b)(S.a.Trailer,{trailerId:A.id}),{item:null===j||void 0===j?void 0:j.item,trailer:A})}),[i,null===j||void 0===j?void 0:j.item,A]),E=Object(b.useCallback)((function(){l(!0)}),[]),H=Object(b.useCallback)(Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g([r]);case 2:h();case 3:case"end":return e.stop()}}),e)}))),[r,g,h]);return ne(),q(D),Object(B.jsxs)(C.b,{children:[Object(B.jsxs)(ie,{children:[Object(B.jsx)(re,{src:(null===j||void 0===j||null===(e=j.item)||void 0===e?void 0:e.posters.wide)||(null===j||void 0===j||null===(t=j.item)||void 0===t?void 0:t.posters.big)}),Object(B.jsx)(ce,{children:T}),Object(B.jsxs)(ue,{children:[Object(B.jsxs)("div",{children:[Object(B.jsx)(y.a,{icon:"play_circle_outline",onClick:D,children:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c"}),Object(B.jsx)(y.a,{icon:"bookmark",onClick:E,children:"\u0412 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438"}),Object(B.jsx)(x.a,{visible:a,onVisibilityChange:l,children:Object(B.jsx)(z,{itemId:r},"".concat(r,"-").concat(a))}),"boolean"===typeof(null===j||void 0===j?void 0:j.item.subscribed)&&Object(B.jsx)(y.a,{icon:(null===j||void 0===j?void 0:j.item.subscribed)?"visibility_off":"visibility",onClick:H,children:(null===j||void 0===j?void 0:j.item.subscribed)?"\u041d\u0435 \u0431\u0443\u0434\u0443 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c":"\u0411\u0443\u0434\u0443 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"})]}),Object(B.jsx)("div",{children:A&&Object(B.jsx)(y.a,{icon:"videocam",onClick:M,children:"\u0422\u0440\u0435\u0439\u043b\u0435\u0440"})})]})]}),Object(B.jsx)(L,{item:null===j||void 0===j?void 0:j.item,seasons:null===j||void 0===j||null===(n=j.item)||void 0===n?void 0:n.seasons}),Object(B.jsxs)(ae,{children:[Object(B.jsx)(R.a,{children:null===j||void 0===j?void 0:j.item.plot}),!!(null===j||void 0===j||null===(o=j.item.tracklist)||void 0===o?void 0:o.length)&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(R.a,{children:"\u0422\u0440\u0435\u043a\u043b\u0438\u0441\u0442"}),Object(B.jsx)(le,{children:O()(null===j||void 0===j?void 0:j.item.tracklist,(function(e,t){return Object(B.jsxs)(R.a,{children:[t+1,". ",e.title]},t)}))})]})]}),Object(B.jsx)(w.a,{height:"50rem",children:Object(B.jsx)(de,{itemId:r})})]})}}}]);
//# sourceMappingURL=14.e5726b62.chunk.js.map