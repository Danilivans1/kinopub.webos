(this["webpackJsonpkinopub.webos"]=this["webpackJsonpkinopub.webos"]||[]).push([[16],{522:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,i=n(20),c=n(526),o=n.n(c),u=n(21),s=Object(u.b)(o.a)(r||(r=Object(i.a)([""])))},524:function(e,t,n){"use strict";var r=n(54),i=n(0),c=n(552),o=n(142);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,u=Object(i.useMemo)((function(){return new o.c}),[]),s=Object(c.a)([e].concat(Object(r.a)(t)),(function(){return u[e].apply(u,Object(r.a)(t))}),n);return s}},525:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n.n(r),c=n(10);function o(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var u=i.a.createContext(o()),s=n(152);function a(e,t){var n=i.a.useRef(!1),r=i.a.useState(0)[1],o=Object(s.b)(),a=i.a.useContext(u),l=o.defaultQueryObserverOptions(e);l.optimisticResults=!0,l.onError&&(l.onError=c.a.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=c.a.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=c.a.batchCalls(l.onSettled)),l.suspense&&"number"!==typeof l.staleTime&&(l.staleTime=1e3),(l.suspense||l.useErrorBoundary)&&(a.isReset()||(l.retryOnMount=!1));var d=i.a.useState((function(){return new t(o,l)}))[0],h=d.getOptimisticResult(l);if(i.a.useEffect((function(){n.current=!0,a.clearReset();var e=d.subscribe(c.a.batchCalls((function(){n.current&&r((function(e){return e+1}))})));return d.updateResult(),function(){n.current=!1,e()}}),[a,d]),i.a.useEffect((function(){d.setOptions(l,{listeners:!1})}),[l,d]),l.suspense&&h.isLoading)throw d.fetchOptimistic(l).then((function(e){var t=e.data;null==l.onSuccess||l.onSuccess(t),null==l.onSettled||l.onSettled(t,null)})).catch((function(e){a.clearReset(),null==l.onError||l.onError(e),null==l.onSettled||l.onSettled(void 0,e)}));if((l.suspense||l.useErrorBoundary)&&h.isError&&!h.isFetching)throw h.error;return"tracked"===l.notifyOnChangeProps&&(h=d.trackResult(h)),h}},530:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r,i,c,o=n(6),u=n(31),s=n(20),a=n(0),l=n(232),d=n.n(l),h=n(21),f=n(107),b=n(1),v=["icon","iconOnly","children","autoFocus"],p=h.b.div(r||(r=Object(s.a)(["\n  display: inline-flex;\n\n  > div {\n    width: 100%;\n  }\n"]))),j=Object(h.b)(d.a)(i||(i=Object(s.a)(["\n  color: inherit;\n  text-decoration: none;\n"]))),O=h.b.div(c||(c=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  color: inherit;\n  text-decoration: none;\n\n  "," {\n    margin-right: ",";\n  }\n"])),f.a,(function(e){return!e.iconOnly&&"0.5rem"})),m=function(e){var t=e.icon,n=e.iconOnly,r=e.children,i=e.autoFocus,c=Object(u.a)(e,v),s=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e;return i&&(e=requestAnimationFrame((function(){var e,t;null===(e=s.current)||void 0===e||null===(t=e.querySelector('[role="button"]'))||void 0===t||t.focus()}))),function(){e&&cancelAnimationFrame(e)}}),[s,i]),Object(b.jsx)(p,{ref:s,children:Object(b.jsx)(j,Object(o.a)(Object(o.a)({},c),{},{children:Object(b.jsxs)(O,{iconOnly:n,children:[t&&Object(b.jsx)(f.a,{name:t}),!n&&r]})}))})}},552:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(557),i=n(2),c=n(525);function o(e,t,n){var o=Object(i.l)(e,t,n);return Object(c.a)(o,r.a)}},555:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(6),i=n(31),c=n(0),o=n(565),u=n.n(o),s=n(146),a=n(1),l=["visible","onVisibilityChange"],d=function(e){var t=e.visible,n=e.onVisibilityChange,o=Object(i.a)(e,l),d=Object(c.useCallback)((function(){n(!0)}),[n]),h=Object(c.useCallback)((function(){n(!1)}),[n]),f=Object(c.useCallback)((function(){if(t)return n(!1),!1}),[t,n]);return Object(s.a)(f),Object(a.jsx)(u.a,Object(r.a)(Object(r.a)({},o),{},{open:t,onShow:d,onClose:h}))}},557:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(4),i=n(14),c=n(2),o=n(10),u=n(61),s=n(35),a=n(82),l=n(36),d=function(e){function t(t,n){var r;return(r=e.call(this)||this).client=t,r.options=n,r.trackedProps=[],r.previousSelectError=null,r.bindMethods(),r.setOptions(n),r}Object(i.a)(t,e);var n=t.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){1===this.listeners.length&&(this.currentQuery.addObserver(this),h(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return e=this.currentQuery,!1!==(t=this.options).enabled&&("always"===t.refetchOnReconnect||!1!==t.refetchOnReconnect&&b(e,t));var e,t},n.shouldFetchOnWindowFocus=function(){return e=this.currentQuery,!1!==(t=this.options).enabled&&("always"===t.refetchOnWindowFocus||!1!==t.refetchOnWindowFocus&&b(e,t));var e,t},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(e,t){var n=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),"undefined"!==typeof this.options.enabled&&"boolean"!==typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();var i=this.hasListeners();i&&f(this.currentQuery,r,this.options,n)&&this.executeFetch(),this.updateResult(t),!i||this.currentQuery===r&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.updateStaleTimeout(),!i||this.currentQuery===r&&this.options.enabled===n.enabled&&this.options.refetchInterval===n.refetchInterval||this.updateRefetchInterval()},n.getOptimisticResult=function(e){var t=this.client.defaultQueryObserverOptions(e),n=this.client.getQueryCache().build(this.client,t);return this.createResult(n,t)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(e){var t=this,n={};return Object.keys(e).forEach((function(r){Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:function(){var n=r;return t.trackedProps.includes(n)||t.trackedProps.push(n),e[n]}})})),n},n.getNextResult=function(e){var t=this;return new Promise((function(n,r){var i=t.subscribe((function(t){t.isFetching||(i(),t.isError&&(null==e?void 0:e.throwOnError)?r(t.error):n(t))}))}))},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(e){return this.fetch(e)},n.fetchOptimistic=function(e){var t=this,n=this.client.defaultQueryObserverOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.fetch().then((function(){return t.createResult(r,n)}))},n.fetch=function(e){var t=this;return this.executeFetch(e).then((function(){return t.updateResult(),t.currentResult}))},n.executeFetch=function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(c.i)),t},n.updateStaleTimeout=function(){var e=this;if(this.clearStaleTimeout(),!c.e&&!this.currentResult.isStale&&Object(c.f)(this.options.staleTime)){var t=Object(c.r)(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout((function(){e.currentResult.isStale||e.updateResult()}),t)}},n.updateRefetchInterval=function(){var e=this;this.clearRefetchInterval(),!c.e&&!1!==this.options.enabled&&Object(c.f)(this.options.refetchInterval)&&(this.refetchIntervalId=setInterval((function(){(e.options.refetchIntervalInBackground||u.a.isFocused())&&e.executeFetch()}),this.options.refetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval()},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0},n.clearRefetchInterval=function(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0},n.createResult=function(e,t){var n,r=this.currentQuery,i=this.options,o=this.currentResult,u=this.currentResultState,s=this.currentResultOptions,l=e!==r,d=l?e.state:this.currentQueryInitialState,v=l?this.currentResult:this.previousQueryResult,p=e.state,j=p.dataUpdatedAt,O=p.error,m=p.errorUpdatedAt,y=p.isFetching,k=p.status,T=!1,g=!1;if(t.optimisticResults){var x=this.hasListeners(),R=!x&&h(e,t),S=x&&f(e,r,t,i);(R||S)&&(y=!0,j||(k="loading"))}if(t.keepPreviousData&&!p.dataUpdateCount&&(null==v?void 0:v.isSuccess)&&"error"!==k)n=v.data,j=v.dataUpdatedAt,k=v.status,T=!0;else if(t.select&&"undefined"!==typeof p.data)if(o&&p.data===(null==u?void 0:u.data)&&t.select===(null==s?void 0:s.select)&&!this.previousSelectError)n=o.data;else try{n=t.select(p.data),!1!==t.structuralSharing&&(n=Object(c.n)(null==o?void 0:o.data,n)),this.previousSelectError=null}catch(E){Object(a.a)().error(E),O=E,this.previousSelectError=E,m=Date.now(),k="error"}else n=p.data;if("undefined"!==typeof t.placeholderData&&"undefined"===typeof n&&"loading"===k){var w;if((null==o?void 0:o.isPlaceholderData)&&t.placeholderData===(null==s?void 0:s.placeholderData))w=o.data;else if(w="function"===typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&"undefined"!==typeof w)try{w=t.select(w),!1!==t.structuralSharing&&(w=Object(c.n)(null==o?void 0:o.data,w)),this.previousSelectError=null}catch(E){Object(a.a)().error(E),O=E,this.previousSelectError=E,m=Date.now(),k="error"}"undefined"!==typeof w&&(k="success",n=w,g=!0)}return{status:k,isLoading:"loading"===k,isSuccess:"success"===k,isError:"error"===k,isIdle:"idle"===k,data:n,dataUpdatedAt:j,error:O,errorUpdatedAt:m,failureCount:p.fetchFailureCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:y,isLoadingError:"error"===k&&0===p.dataUpdatedAt,isPlaceholderData:g,isPreviousData:T,isRefetchError:"error"===k&&0!==p.dataUpdatedAt,isStale:b(e,t),refetch:this.refetch,remove:this.remove}},n.shouldNotifyListeners=function(e,t){if(!t)return!0;if(e===t)return!1;var n=this.options,r=n.notifyOnChangeProps,i=n.notifyOnChangePropsExclusions;if(!r&&!i)return!0;if("tracked"===r&&!this.trackedProps.length)return!0;var c="tracked"===r?this.trackedProps:r;return Object.keys(e).some((function(n){var r=n,o=e[r]!==t[r],u=null==c?void 0:c.some((function(e){return e===n})),s=null==i?void 0:i.some((function(e){return e===n}));return o&&!s&&(!c||u)}))},n.updateResult=function(e){var t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!Object(c.p)(this.currentResult,t)){var n={cache:!0};!1!==(null==e?void 0:e.listeners)&&this.shouldNotifyListeners(this.currentResult,t)&&(n.listeners=!0),this.notify(Object(r.a)({},n,e))}},n.updateQuery=function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}},n.onQueryUpdate=function(e){var t={};"success"===e.type?t.onSuccess=!0:"error"!==e.type||Object(l.c)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()},n.notify=function(e){var t=this;o.a.batch((function(){e.onSuccess?(null==t.options.onSuccess||t.options.onSuccess(t.currentResult.data),null==t.options.onSettled||t.options.onSettled(t.currentResult.data,null)):e.onError&&(null==t.options.onError||t.options.onError(t.currentResult.error),null==t.options.onSettled||t.options.onSettled(void 0,t.currentResult.error)),e.listeners&&t.listeners.forEach((function(e){e(t.currentResult)})),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})}))},t}(s.a);function h(e,t){return function(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||function(e,t){return!1!==t.enabled&&e.state.dataUpdatedAt>0&&("always"===t.refetchOnMount||!1!==t.refetchOnMount&&b(e,t))}(e,t)}function f(e,t,n,r){return!1!==n.enabled&&(e!==t||!1===r.enabled)&&b(e,n)}function b(e,t){return e.isStaleByTime(t.staleTime)}},566:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return b}));var r=n(528),i=n.n(r),c=n(102),o=n.n(c),u=n(575),s=n.n(u),a=n(587),l=n.n(a),d=function(e){return e<10?"0".concat(e):e};function h(e){return o()(e,(function(e,t){var n,r,c,o,u,s,a;return{lang:e.lang,name:i()(["".concat(d(t+1),"."),(null===(n=e.type)||void 0===n?void 0:n.title)&&(null===(r=e.author)||void 0===r?void 0:r.title)?"".concat(null===(c=e.type)||void 0===c?void 0:c.title,"."):null===(o=e.type)||void 0===o?void 0:o.title,null===(u=e.author)||void 0===u?void 0:u.title,(null===(s=e.type)||void 0===s?void 0:s.title)||(null===(a=e.author)||void 0===a?void 0:a.title)?"(".concat(l()(e.lang),")"):l()(e.lang),"aac"!==e.codec&&l()(e.codec)]).join(" ")}}))}function f(e,t){return s()(o()(e,(function(e){return{src:"string"===typeof e.url?e.url:e.url[t]||e.url.http,name:e.quality}})),(function(e){var t=e.name;return parseInt(t)}),"desc")}function b(e){return o()(e,(function(e,t){return{src:e.url,lang:e.lang,name:"".concat(l()(e.lang)," #").concat(d(t+1))}}))}},567:function(e,t,n){"use strict";n.d(t,"a",(function(){return ue}));var r=n(6),i=n(13),c=n.n(i),o=n(23),u=n(47),s=n(31),a=n(20),l=n(0),d=n(578),h=n.n(d),f=n(21),b=n(43),v=n(44),p=n(591),j=n(114),O=n(86),m=n(85),y=n(561),k=n.n(y),T=n(583),g=n.n(T),x=n(584),R=n.n(x),S=n(533),w=n.n(S),E=function(){function e(t){Object(b.a)(this,e),this.resource=void 0,this.objectURL=void 0,this.resource=t}return Object(v.a)(e,[{key:"blobToBuffer",value:function(){var e=this;return new Promise((function(t,n){var r=new FileReader;r.addEventListener("loadend",(function(e){var n,r=null===(n=e.target)||void 0===n?void 0:n.result;t(new Uint8Array(r))})),r.addEventListener("error",(function(){return n("Error while reading the Blob object")})),r.readAsArrayBuffer(e.resource)}))}},{key:"getURL",value:function(){var t=this;return new Promise((function(n,r){return t.resource instanceof Blob?FileReader?TextDecoder?e.blobToString(t.resource,(function(r){var i="WEBVTT FILE\r\n\r\n".concat(e.toVTT(r)),c=new Blob([i],{type:"text/vtt"});return t.objectURL=URL.createObjectURL(c),n(t.objectURL)}),(function(){t.blobToBuffer().then((function(r){var i=new TextDecoder("utf-8").decode(r),c="WEBVTT FILE\r\n\r\n".concat(e.toVTT(i)),o=new Blob([c],{type:"text/vtt"});return t.objectURL=URL.createObjectURL(o),n(t.objectURL)}))})):r("No TextDecoder constructor found"):r("No FileReader constructor found"):r("Expecting resource to be a Blob but something else found.")}))}},{key:"release",value:function(){URL.createObjectURL(this.objectURL)}}],[{key:"blobToString",value:function(e,t,n){var r=new FileReader;r.addEventListener("loadend",(function(e){var n,r=null===(n=e.target)||void 0===n?void 0:n.result;t(r)})),r.addEventListener("error",(function(){return n()})),r.readAsText(e)}},{key:"toVTT",value:function(e){return e.replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").concat("\r\n\r\n")}},{key:"toTypedArray",value:function(e){var t=[];return e.split("").forEach((function(e){t.push(parseInt("".concat(e.charCodeAt(0)),16))})),Uint8Array.from(t)}}]),e}();function C(){return(C=Object(o.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return e.next=4,e.sent.blob();case 4:return n=e.sent,r=new E(n),e.abrupt("return",r.getURL());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I,U,Q,L,F,A,P,D,M=function(e){Object(O.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).hls=void 0,e.media=void 0,e.state=void 0,e.props=void 0,e}return Object(v.a)(n,[{key:"load",value:function(e){var t,n=this.props.startTime;(null===(t=this.state)||void 0===t?void 0:t.src)&&this.state.src!==e&&(n=this.media.currentTime),this.destroy();var r=this.media;this.setState({src:e});var i=function(){n&&(r.currentTime=n),r.play()};if(e.includes(".m3u8")&&g.a.isSupported()){var c=this.hls=new g.a;return c.attachMedia(r),void c.on(g.a.Events.MEDIA_ATTACHED,(function(){c.loadSource(e),c.on(g.a.Events.MANIFEST_PARSED,i)}))}r.src=e,r.addEventListener("loadedmetadata",i)}},{key:"audioTracks",get:function(){var e;return this.hls?R()(this.hls.audioTracks.map((function(e){return e.name}))):null===(e=this.props.audioTracks)||void 0===e?void 0:e.map((function(e){return e.name}))}},{key:"audioTrack",get:function(){var e,t,n,r=this;if(this.hls)return null===(n=this.hls.audioTracks.find((function(e){var t;return e.id===(null===(t=r.hls)||void 0===t?void 0:t.audioTrack)})))||void 0===n?void 0:n.name;var i=Array.from(this.media.audioTracks||[]).findIndex((function(e){return e.enabled}));return null===(e=this.props.audioTracks)||void 0===e||null===(t=e[i])||void 0===t?void 0:t.name},set:function(e){if(this.hls){var t=this.hls.audioTracks.find((function(t){return t.name===e}));t&&(this.hls.audioTrack=t.id)}else{var n,r=Array.from(this.media.audioTracks||[]),i=null===(n=this.props.audioTracks)||void 0===n?void 0:n.findIndex((function(t){return t.name===e}));(!i||i>r.length-1)&&(i=0),r.forEach((function(e,t){e.enabled=t===i}))}}},{key:"sourceTracks",get:function(){return w()(this.props.sourceTracks,"src").map((function(e){return e.name}))}},{key:"sourceTrack",get:function(){var e,t=this;return null===(e=this.props.sourceTracks.find((function(e){return e.src===t.state.src})))||void 0===e?void 0:e.name},set:function(e){var t=this.props.sourceTracks.find((function(t){return t.name===e}));t&&this.load(t.src)}},{key:"subtitleTracks",get:function(){var e;return this.hls?this.hls.subtitleTracks.map((function(e){return e.name})):null===(e=this.props.subtitleTracks)||void 0===e?void 0:e.map((function(e){return e.name}))}},{key:"subtitleTrack",get:function(){var e,t,n=this;return this.hls?null===(t=this.hls.subtitleTracks.find((function(e){var t;return e.id===(null===(t=n.hls)||void 0===t?void 0:t.subtitleTrack)})))||void 0===t?void 0:t.name:null===(e=Array.from(this.media.textTracks||[]).find((function(e){return"showing"===e.mode})))||void 0===e?void 0:e.label},set:function(e){if(this.hls){var t,n;this.hls.subtitleTrack=null!==(t=null===(n=this.hls.subtitleTracks.find((function(t){return t.name===e})))||void 0===n?void 0:n.id)&&void 0!==t?t:-1}else{var r=Array.from(this.media.textTracks||[]);r.forEach((function(e){e.mode="disabled"}));var i=r.find((function(t){return t.label===e}));if(i)i.mode="showing";else{var c,o=null===(c=this.props.subtitleTracks)||void 0===c?void 0:c.find((function(t){return t.name===e}));if(o){var u=document.createElement("track");u.kind="captions",u.id=o.name,u.srclang=o.lang,u.label=o.name;var s=function(e){u.src=e,u.track.mode="showing"};o.src.endsWith(".srt")?function(e){return C.apply(this,arguments)}(o.src).then(s):s(o.src),this.media.appendChild(u)}}}}},{key:"destroy",value:function(){this.hls?this.hls.destroy():this.media.src=""}},{key:"componentDidMount",value:function(){var e;this.load(this.props.sourceTracks[0].src),null===(e=Object(p.a)(Object(j.a)(n.prototype),"componentDidMount",this))||void 0===e||e.call(this)}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){var e;this.destroy(),null===(e=Object(p.a)(Object(j.a)(n.prototype),"componentWillUnmount",this))||void 0===e||e.call(this)}}]),n}(k.a),B=n(522),N=n(146),V=n(558),W=n.n(V),q=n(102),$=n.n(q),J=n(555),z=n(151),K=n(1),_="NONE",H=f.b.div(I||(I=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),G=f.b.div(U||(U=Object(a.a)(["\n  padding: 0 1rem;\n  display: flex;\n  flex-direction: column;\n"]))),X=Object(f.b)(B.a)(Q||(Q=Object(a.a)(["\n  width: 5rem;\n"]))),Y=f.b.div(L||(L=Object(a.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]))),Z=f.b.div(F||(F=Object(a.a)(["\n  width: ",";\n  padding-right: 1rem;\n  box-sizing: border-box;\n"])),(function(e){return e.width})),ee=function(e){var t=e.player,n=Object(l.useState)(!1),r=Object(u.a)(n,2),i=r[0],c=r[1],o=Object(l.useState)([]),s=Object(u.a)(o,2),a=s[0],d=s[1],h=Object(l.useState)(null),f=Object(u.a)(h,2),b=f[0],v=f[1],p=Object(l.useState)([]),j=Object(u.a)(p,2),O=j[0],m=j[1],y=Object(l.useState)(null),k=Object(u.a)(y,2),T=k[0],g=k[1],x=Object(l.useState)([]),R=Object(u.a)(x,2),S=R[0],w=R[1],E=Object(l.useState)(null),C=Object(u.a)(E,2),I=C[0],U=C[1],Q=Object(l.useCallback)((function(e,n){t.current&&(t.current.getVideoNode()[e]=n)}),[t]),L=Object(l.useCallback)((function(e){return function(){v(e),Q("audioTrack",e)}}),[Q]),F=Object(l.useCallback)((function(e){return function(){g(e),Q("sourceTrack",e)}}),[Q]),A=Object(l.useCallback)((function(e){return function(){U(e),Q("subtitleTrack",e)}}),[Q]),P=Object(l.useCallback)((function(e){c(e),t.current&&!e&&t.current.play()}),[t]);return Object(l.useEffect)((function(){var e=function(e){if(Object(z.a)(e)){if(t.current){var n=t.current.getVideoNode(),r=n.audioTracks,i=n.audioTrack,o=n.sourceTracks,u=n.sourceTrack,s=n.subtitleTracks,a=n.subtitleTrack;((null===r||void 0===r?void 0:r.length)>1||(null===o||void 0===o?void 0:o.length)>1||(null===s||void 0===s?void 0:s.length)>0)&&(d(r),v(i),m(o),g(u),w(s),U(a),t.current.pause(),c(!0))}}else Object(z.b)(e)&&c(!1)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[i,t]),Object(K.jsx)(J.a,{visible:i,onVisibilityChange:P,children:Object(K.jsxs)(H,{children:[(null===a||void 0===a?void 0:a.length)>1&&Object(K.jsxs)(G,{children:[Object(K.jsx)(X,{children:"\u0417\u0432\u0443\u043a"}),Object(K.jsx)(Y,{children:$()(a,(function(e){return Object(K.jsx)(Z,{width:"50%",children:Object(K.jsx)(W.a,{selected:e===b,onToggle:L(e),children:e})},e)}))})]}),(null===O||void 0===O?void 0:O.length)>1&&Object(K.jsxs)(G,{children:[Object(K.jsx)(X,{children:"\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(K.jsx)(Y,{children:$()(O,(function(e){return Object(K.jsx)(Z,{width:"15%",children:Object(K.jsx)(W.a,{selected:e===T,onToggle:F(e),children:e})},e)}))})]}),(null===S||void 0===S?void 0:S.length)>0&&Object(K.jsxs)(G,{children:[Object(K.jsx)(X,{children:"\u0421\u0443\u0431\u0442\u0438\u0442\u0440\u044b"}),Object(K.jsxs)(Y,{children:[Object(K.jsx)(Z,{width:"15%",children:Object(K.jsx)(W.a,{selected:!I||I===_,onToggle:A(_),children:"\u041d\u0435\u0442"})}),$()(S,(function(e){return Object(K.jsx)(Z,{width:"15%",children:Object(K.jsx)(W.a,{selected:e===I,onToggle:A(e),children:e})},e)}))]})]})]})})},te=n(530),ne=f.b.div(A||(A=Object(a.a)(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  bottom: 7rem;\n  z-index: 200;\n"]))),re=function(e){var t=e.startTime,n=e.startInDelay,r=void 0===n?5:n,i=e.player,c=Object(l.useState)(!0),o=Object(u.a)(c,2),s=o[0],a=o[1],d=Object(l.useState)(r),h=Object(u.a)(d,2),f=h[0],b=h[1],v=Object(l.useMemo)((function(){return new Date(1e3*(t||0)).toISOString().substr(11,8).replace(/^00:/,"")}),[t]),p=Object(l.useCallback)((function(){i.current&&(a(!1),i.current.getVideoNode().currentTime=t)}),[t,i]),j=Object(l.useCallback)((function(){a(!1)}),[]);return Object(l.useEffect)((function(){var e;return s&&(e=setInterval((function(){b((function(e){var t=e-1;return t<=0&&p(),t}))}),1e3)),function(){clearInterval(e)}}),[s,p]),t&&s?Object(K.jsxs)(ne,{children:[Object(K.jsxs)(te.a,{onClick:p,children:["\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441 ",v," \u0447\u0435\u0440\u0435\u0437 ",f]}),Object(K.jsx)(te.a,{autoFocus:!0,onClick:j,children:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441 \u043d\u0430\u0447\u0430\u043b\u0430"})]}):null},ie=["title","description","poster","audios","sources","subtitles","startTime","timeSyncInterval","onPlay","onPause","onEnded","onTimeSync"],ce=f.b.div(P||(P=Object(a.a)(["\n  video {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n"]))),oe=Object(f.b)(B.a)(D||(D=Object(a.a)(["\n  position: absolute;\n  padding: 0 1rem;\n  z-index: 1;\n  visibility: ",";\n"])),(function(e){return e.visible?"visible":"hidden"})),ue=function(e){var t=e.title,n=e.description,i=e.poster,a=e.audios,d=e.sources,f=e.subtitles,b=e.startTime,v=e.timeSyncInterval,p=void 0===v?30:v,j=e.onPlay,O=e.onPause,m=e.onEnded,y=e.onTimeSync,k=Object(s.a)(e,ie),T=Object(l.useRef)(),g=Object(l.useState)(!0),x=Object(u.a)(g,2),R=x[0],S=x[1],w=Object(l.useCallback)((function(){S(!1),null===j||void 0===j||j()}),[j]),E=Object(l.useCallback)((function(e){S(!0),null===O||void 0===O||O(e.currentTime)}),[O]),C=Object(l.useCallback)((function(e){null===m||void 0===m||m(e.target.currentTime)}),[m]),I=Object(l.useCallback)(Object(o.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T.current||!y){e.next=5;break}return t=T.current.getVideoNode(),n=t.currentTime,e.next=5,y(n);case 5:case"end":return e.stop()}}),e)}))),[y,T]);return Object(l.useEffect)((function(){var e;return R&&(e=setTimeout((function(){S(!1)}),5e3)),function(){e&&clearTimeout(e)}}),[R]),Object(l.useEffect)((function(){var e;return y&&(e=setInterval(I,1e3*p)),function(){e&&clearInterval(e)}}),[p,y,I]),Object(N.a)(I),Object(K.jsxs)(ce,{children:[Object(K.jsx)(oe,{visible:R,children:t}),Object(K.jsx)(ee,{player:T}),b>0&&Object(K.jsx)(re,{startTime:b,player:T}),Object(K.jsx)(h.a,Object(r.a)(Object(r.a)({},k),{},{ref:T,title:n,poster:i,jumpBy:10,onPlay:w,onPause:E,onEnded:C,audioTracks:a,sourceTracks:d,subtitleTracks:f,videoComponent:M}))]})}},589:function(e,t,n){"use strict";function r(e,t,n){return n?"".concat(null===e||void 0===e?void 0:e.title," (s").concat(n.number,"e").concat((null===t||void 0===t?void 0:t.number)||1,")"):null===e||void 0===e?void 0:e.title}n.d(t,"a",(function(){return r}))},742:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var r=n(6),i=n(13),c=n.n(i),o=n(23),u=n(47),s=n(0),a=n(518),l=n(142),d=n(567),h=n(524),f=n(113),b=n(163),v=n(589),p=n(566),j=n(1),O=function(e,t,n){var r=function(e,t,n){return Object(s.useMemo)((function(){var r,i,c=null===(r=e.videos||(null===t||void 0===t?void 0:t.episodes))||void 0===r?void 0:r.find((function(e){return e.number===n.number+1}));if(c)return c;var o=null===(i=e.seasons)||void 0===i?void 0:i.find((function(e){return e.number===t.number+1}));return o?o.episodes[0]:void 0}),[e,t,n])}(e,t,n);return[function(e,t,n){return Object(s.useMemo)((function(){var r,i,c=null===(r=e.videos||(null===t||void 0===t?void 0:t.episodes))||void 0===r?void 0:r.find((function(e){return e.number===n.number-1}));if(c)return c;var o=null===(i=e.seasons)||void 0===i?void 0:i.find((function(e){return e.number===t.number-1}));return o?o.episodes[o.episodes.length-1]:void 0}),[e,t,n])}(e,t,n),r]},m=function(){var e=Object(a.e)(),t=Object(a.f)(),n=Object(f.a)("watchingMarkTime").watchingMarkTimeAsync,i=Object(b.a)("streaming_type"),m=Object(u.a)(i,1)[0],y=t.state,k=y.item,T=y.video,g=y.season,x=Object(s.useState)(T),R=Object(u.a)(x,2),S=R[0],w=R[1],E=O(k,g,S),C=Object(u.a)(E,2),I=C[0],U=C[1],Q=Object(h.a)("itemMediaLinks",[S.id]),L=Object(s.useCallback)(function(){var e=Object(o.a)(c.a.mark((function e(t,r){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.number,e.next=3,n([k.id,r,i,null===g||void 0===g?void 0:g.number]);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,k,g]),F=Object(s.useMemo)((function(){return(null===Q||void 0===Q?void 0:Q.data)?{title:Object(v.a)(k,S,g),description:S.title,poster:k.posters.wide||k.posters.big,audios:Object(p.a)(S.audios),sources:Object(p.b)(Q.data.files,m),subtitles:Object(p.c)(Q.data.subtitles),startTime:S.watching.status===l.b.Watching?S.watching.time:0}:null}),[k,g,S,null===Q||void 0===Q?void 0:Q.data,m]),A=Object(s.useCallback)((function(e){L(S,e)}),[L,S]),P=Object(s.useCallback)((function(t){L(S,t),U?w(U):e.goBack()}),[L,e,S,U]),D=Object(s.useCallback)((function(e){var t=e.currentTime;L(S,t),I&&w(I)}),[L,S,I]),M=Object(s.useCallback)((function(e){var t=e.currentTime;L(S,t),U&&w(U)}),[L,S,U]),B=Object(s.useCallback)(function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(S,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[L,S]);return Object(j.jsx)(j.Fragment,{children:F&&Object(j.jsx)(d.a,Object(r.a)(Object(r.a)({},F),{},{onPause:A,onEnded:P,onJumpBackward:D,onJumpForward:M,onTimeSync:B}),S.id)})}}}]);
//# sourceMappingURL=16.f08924c0.chunk.js.map