(this["webpackJsonpkinopub.webos"]=this["webpackJsonpkinopub.webos"]||[]).push([[17],{516:function(e,n,t){"use strict";t.d(n,"b",(function(){return w})),t.d(n,"a",(function(){return p}));var c=t(6),r=t(31),i=t(20),o=t(0),u=t(525),a=t.n(u),l=t(21),b=t(46),s=t(38),j=function(e,n,t){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{disconnectOnLeave:!1},r=n.onEnterViewport,i=n.onLeaveViewport,u=Object(o.useState)(),a=Object(b.a)(u,2),l=a[1],j=Object(o.useRef)(null),d=Object(o.useRef)(!1),O=Object(o.useRef)(!1),f=Object(o.useRef)(0),v=Object(o.useRef)(0),h=Object(o.useCallback)((function(){if(e.current&&j.current){var n=Object(s.findDOMNode)(e.current);n&&j.current.observe(n)}}),[e,j]),p=Object(o.useCallback)((function(){if(e.current&&j.current){var n=Object(s.findDOMNode)(e.current);n&&(j.current.unobserve(n),j.current.disconnect(),j.current=null)}}),[e,j]),w=Object(o.useCallback)((function(e){var n=e[0]||{},t=n.isIntersecting,o=n.intersectionRatio,u="undefined"!==typeof t?t:o>0;if(!O.current&&u)return O.current=!0,null===r||void 0===r||r(),f.current+=1,d.current=u,void l(u);O.current&&!u&&(O.current=!1,null===i||void 0===i||i(),c.disconnectOnLeave&&j.current&&j.current.disconnect(),v.current+=1,d.current=u,l(u))}),[j,c.disconnectOnLeave,r,i]),x=Object(o.useCallback)((function(){j.current||(j.current=new IntersectionObserver(w,t))}),[j,t,w]);return Object(o.useEffect)((function(){return x(),h(),function(){p()}}),[x,h,p]),{inViewport:d.current,enterCount:f.current,leaveCount:v.current}},d=t(722);var O,f=function(e){var n=Object(d.a)();return Object(o.useMemo)((function(){return"".concat(e,"-").concat(n)}),[e,n])},v=t(1),h=l.b.div(O||(O=Object(i.a)(["\n  height: 5rem;\n"]))),p=Object(o.createContext)({}),w=function(e){var n=e.children,t=e.onScrollToEnd,i=Object(r.a)(e,["children","onScrollToEnd"]),u=Object(o.useRef)(null),l=f("scrollable"),b=Object(o.useMemo)((function(){return{id:l}}),[l]);return j(u,{onEnterViewport:t}),Object(v.jsxs)(a.a,Object(c.a)(Object(c.a)({id:l,direction:"vertical",verticalScrollbar:"hidden",horizontalScrollbar:"hidden"},i),{},{children:[Object(v.jsx)(p.Provider,{value:b,children:n}),Object(v.jsx)(h,{ref:u})]}))}},518:function(e,n,t){"use strict";t.d(n,"a",(function(){return b}));var c=t(6),r=t(0),i=t(526),o=t.n(i),u=t(516),a=t(1),l=function(e){var n=Object(r.useContext)(u.a).id;return Object(a.jsx)(o.a,Object(c.a)({once:!0,offset:100,scrollContainer:n&&"#".concat(n)},e))};var b=l},519:function(e,n,t){"use strict";var c=t(0),r=t(544),i=t(142);n.a=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];var u=Object(c.useMemo)((function(){return new i.c}),[]),a=Object(r.a)([e].concat(t),(function(){return u[e].apply(u,t)}));return a}},544:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var c=t(552),r=t(2),i=t(522);function o(e,n,t){var o=Object(r.l)(e,n,t);return Object(i.a)(o,c.a)}},582:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var c,r=t(20),i=t(599),o=t.n(i),u=t(21),a=Object(u.b)(o.a)(c||(c=Object(r.a)([""])))},720:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return y}));var c,r,i,o=t(46),u=t(20),a=t(0),l=t(21),b=t(78),s=t(102),j=t.n(s),d=t(513),O=t(524),f=t.n(O),v=t(518),h=t(5),p=t(1),w=Object(l.b)(v.a)(c||(c=Object(u.a)(["\n  display: inline-flex;\n  position: relative;\n  height: 20rem !important;\n  width: 20%;\n"]))),x=Object(l.b)(f.a)(r||(r=Object(u.a)(["\n  width: 100%;\n"]))),m=function(e){var n=e.collection,t=Object(d.e)(),c=Object(a.useCallback)((function(){(null===n||void 0===n?void 0:n.id)&&t.push(Object(h.b)(h.a.Collection,{collectionId:n.id}))}),[null===n||void 0===n?void 0:n.id,t]);return Object(p.jsx)(w,{height:"20rem",children:Object(p.jsx)(x,{source:null===n||void 0===n?void 0:n.posters.medium,caption:null===n||void 0===n?void 0:n.title,onClick:c})})},C=t(516),g=function(e){var n=e.collections,t=e.loading;return Object(p.jsxs)(C.b,{children:[j()(n,(function(e){return Object(p.jsx)(m,{collection:e},e.id)})),t&&j()(Object(b.a)(new Array(15)),(function(e,n){return Object(p.jsx)(m,{},n)}))]})},k=t(582),R=t(519),S=Object(l.b)(k.a)(i||(i=Object(u.a)(["\n  margin-bottom: 1rem;\n"]))),y=function(){var e=Object(a.useState)(""),n=Object(o.a)(e,2),t=n[0],c=n[1],r=Object(R.a)("collections",t,"watchers-"),i=r.data,u=r.isLoading,l=Object(a.useCallback)((function(e){var n=e.value;c(n)}),[c]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(S,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0431\u043e\u0440\u043a\u0438...",value:t,onChange:l}),Object(p.jsx)(g,{collections:null===i||void 0===i?void 0:i.items,loading:u})]})}}}]);
//# sourceMappingURL=17.6c90c2ea.chunk.js.map