(this["webpackJsonpkinopub.webos"]=this["webpackJsonpkinopub.webos"]||[]).push([[20],{1052:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return g}));var c=t(75),r=t(1),a=t(944),u=t(90),o=t(171),i=t.n(o),l=t(881),s=t(48),d=t.n(s),b=t(888),j=t(8),O=t(2),f=function(e){var n=e.collection,t=e.className,c=Object(l.e)(),a=Object(r.useCallback)((function(){(null===n||void 0===n?void 0:n.id)&&c.push(Object(j.b)(j.a.Collection,{collectionId:n.id}))}),[null===n||void 0===n?void 0:n.id,c]);return Object(O.jsx)(b.a,{onClick:a,source:null===n||void 0===n?void 0:n.posters.medium,caption:null===n||void 0===n?void 0:n.title,className:d()("h-72",t)})},v=t(884),h=function(e){var n=e.collections,t=e.loading,c=e.onScrollToEnd,r=e.scrollable,a=void 0===r||r,o=Object(O.jsxs)("div",{className:"flex flex-wrap pr-2",children:[i()(n,(function(e){return Object(O.jsx)(f,{collection:e},e.id)})),t&&i()(Object(u.a)(new Array(15)),(function(e,n){return Object(O.jsx)(f,{},n)}))]});return a?Object(O.jsx)(v.b,{onScrollToEnd:c,children:o}):o},m=t(899),p=function(e){var n=e.queryResult,t=e.processItems,r=Object(m.a)(n,t),a=Object(c.a)(r,3),u=a[0],o=a[1],i=a[2];return Object(O.jsx)(h,{collections:u,loading:o,onScrollToEnd:i})},x=t(900),g=function(){var e=Object(r.useState)(""),n=Object(c.a)(e,2),t=n[0],u=n[1],o=Object(x.a)("collections",[t,"watchers-"]),i=Object(r.useCallback)((function(e){u(e)}),[u]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"m-1 mb-3 mr-2",children:Object(O.jsx)(a.a,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0431\u043e\u0440\u043a\u0438...",value:t,onChange:i})}),Object(O.jsx)(p,{queryResult:o})]})}},884:function(e,n,t){"use strict";t.d(n,"b",(function(){return v})),t.d(n,"a",(function(){return f}));var c=t(15),r=t(54),a=t(1),u=t(48),o=t.n(u),i=t(75),l=t(67),s=function(e,n,t){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{disconnectOnLeave:!1},r=n.onEnterViewport,u=n.onLeaveViewport,o=Object(a.useState)(),s=Object(i.a)(o,2),d=s[1],b=Object(a.useRef)(null),j=Object(a.useRef)(!1),O=Object(a.useRef)(!1),f=Object(a.useRef)(0),v=Object(a.useRef)(0),h=Object(a.useCallback)((function(){if(e.current&&b.current){var n=Object(l.findDOMNode)(e.current);n&&b.current.observe(n)}}),[e,b]),m=Object(a.useCallback)((function(){if(e.current&&b.current){var n=Object(l.findDOMNode)(e.current);n&&(b.current.unobserve(n),b.current.disconnect(),b.current=null)}}),[e,b]),p=Object(a.useCallback)((function(e){var n=e[0]||{},t=n.isIntersecting,a=n.intersectionRatio,o="undefined"!==typeof t?t:a>0;if(!O.current&&o)return O.current=!0,null===r||void 0===r||r(),f.current+=1,j.current=o,void d(o);O.current&&!o&&(O.current=!1,null===u||void 0===u||u(),c.disconnectOnLeave&&b.current&&b.current.disconnect(),v.current+=1,j.current=o,d(o))}),[b,c.disconnectOnLeave,r,u]),x=Object(a.useCallback)((function(){b.current||(b.current=new IntersectionObserver(p,t))}),[b,t,p]);return Object(a.useEffect)((function(){return x(),h(),function(){m()}}),[x,h,m]),{inViewport:j.current,enterCount:f.current,leaveCount:v.current}},d=t(907);var b=function(e){var n=Object(d.a)();return Object(a.useMemo)((function(){return"".concat(e,"-").concat(n)}),[e,n])},j=t(2),O=["children","className","onScrollToEnd"],f=Object(a.createContext)({}),v=function(e){var n=e.children,t=e.className,u=e.onScrollToEnd,i=Object(r.a)(e,O),l=Object(a.useRef)(null),d=b("scrollable"),v=Object(a.useMemo)((function(){return{id:d}}),[d]);return s(l,{onEnterViewport:u}),Object(j.jsx)("div",Object(c.a)(Object(c.a)({id:d,className:"overflow-hidden h-screen"},i),{},{children:Object(j.jsx)(f.Provider,{value:v,children:Object(j.jsxs)("div",{className:o()("overflow-y-auto h-full",t),children:[n,Object(j.jsx)("div",{className:"h-40",ref:l})]})})}))}},887:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var c=t(15),r=t(1),a=t(884),u=t(2),o=function(e){Object(r.useContext)(a.a).id;return Object(u.jsx)("div",Object(c.a)({},e))};var i=o},888:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var c=t(15),r=t(54),a=t(48),u=t.n(a),o=t(887),i=t(233),l=t(2),s=["className","wrapperClassName","source","caption","children"],d=function(e){var n=e.className,t=e.wrapperClassName,a=e.source,d=e.caption,b=e.children,j=Object(r.a)(e,s);return Object(l.jsx)(i.a,Object(c.a)(Object(c.a)({},j),{},{className:u()("rounded-xl w-1/6",t),children:Object(l.jsxs)(o.a,{className:u()("h-40 m-1 flex flex-col relative overflow-hidden cursor-pointer",n),children:[Object(l.jsx)("img",{loading:"lazy",className:"w-full h-full object-cover rounded-xl bg-gray-300",src:a,alt:d}),Object(l.jsx)("div",{className:"px-2",children:Object(l.jsx)("p",{className:"text-primary text-sm text-center overflow-hidden whitespace-nowrap",children:d})}),b]})}))}},899:function(e,n,t){"use strict";var c=t(75),r=t(1),a=t(896),u=t.n(a),o=t(912),i=t.n(o),l=t(905),s=t.n(l);n.a=function(e,n){var t=e.data,a=e.isLoading,o=e.isFetchingNextPage,l=e.fetchNextPage,d=Object(r.useState)(!1),b=Object(c.a)(d,2),j=b[0],O=b[1],f=Object(r.useMemo)((function(){return s()(u()(i()(null===t||void 0===t?void 0:t.pages,(function(e){return e.items}))),"id")}),[null===t||void 0===t?void 0:t.pages]),v=Object(r.useMemo)((function(){return n?n(f):f}),[f,n]),h=Object(r.useCallback)((function(){j&&(l(),O(!1))}),[j,l]);return Object(r.useEffect)((function(){O(!0)}),[f.length]),[v,a||o,h]}},900:function(e,n,t){"use strict";var c=t(15),r=t(90),a=t(1),u=t(1069),o=t(234);n.a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0,i=Object(a.useMemo)((function(){return new o.c}),[]),l=Object(u.a)([e].concat(Object(r.a)(n)),(function(t){var c=t.pageParam;return i[e].apply(i,Object(r.a)(n).concat([c]))}),Object(c.a)({getNextPageParam:function(e){var n;return(null===e||void 0===e||null===(n=e.pagination)||void 0===n?void 0:n.current)+1||1}},t));return l}},944:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var c=t(15),r=t(54),a=t(1),u=t(48),o=t.n(u),i=t(233),l=t(2),s=["className","onChange"],d=function(e){var n=e.className,t=e.onChange,u=Object(r.a)(e,s),d=Object(a.useCallback)((function(e){null===t||void 0===t||t(e.target.value,e)}),[t]);return Object(l.jsx)(i.a,{className:o()("w-full rounded",n),children:Object(l.jsx)("input",Object(c.a)(Object(c.a)({},u),{},{onChange:d,className:"w-full h-auto px-2 py-1 rounded text-gray-500"}))})}}}]);
//# sourceMappingURL=20.9e24956d.chunk.js.map