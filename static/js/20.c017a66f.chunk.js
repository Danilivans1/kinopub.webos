(this["webpackJsonpkinopub.webos"]=this["webpackJsonpkinopub.webos"]||[]).push([[20],{517:function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return m}));var r=n(6),c=n(32),i=n(20),o=n(0),u=n(526),a=n.n(u),s=n(21),j=n(46),b=n(38),l=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{disconnectOnLeave:!1},c=t.onEnterViewport,i=t.onLeaveViewport,u=Object(o.useState)(),a=Object(j.a)(u,2),s=a[1],l=Object(o.useRef)(null),d=Object(o.useRef)(!1),O=Object(o.useRef)(!1),f=Object(o.useRef)(0),h=Object(o.useRef)(0),v=Object(o.useCallback)((function(){if(e.current&&l.current){var t=Object(b.findDOMNode)(e.current);t&&l.current.observe(t)}}),[e,l]),m=Object(o.useCallback)((function(){if(e.current&&l.current){var t=Object(b.findDOMNode)(e.current);t&&(l.current.unobserve(t),l.current.disconnect(),l.current=null)}}),[e,l]),x=Object(o.useCallback)((function(e){var t=e[0]||{},n=t.isIntersecting,o=t.intersectionRatio,u="undefined"!==typeof n?n:o>0;if(!O.current&&u)return O.current=!0,null===c||void 0===c||c(),f.current+=1,d.current=u,void s(u);O.current&&!u&&(O.current=!1,null===i||void 0===i||i(),r.disconnectOnLeave&&l.current&&l.current.disconnect(),h.current+=1,d.current=u,s(u))}),[l,r.disconnectOnLeave,c,i]),p=Object(o.useCallback)((function(){l.current||(l.current=new IntersectionObserver(x,n))}),[l,n,x]);return Object(o.useEffect)((function(){return p(),v(),function(){m()}}),[p,v,m]),{inViewport:d.current,enterCount:f.current,leaveCount:h.current}},d=n(724);var O,f=function(e){var t=Object(d.a)();return Object(o.useMemo)((function(){return"".concat(e,"-").concat(t)}),[e,t])},h=n(1),v=s.b.div(O||(O=Object(i.a)(["\n  height: 5rem;\n"]))),m=Object(o.createContext)({}),x=function(e){var t=e.children,n=e.onScrollToEnd,i=Object(c.a)(e,["children","onScrollToEnd"]),u=Object(o.useRef)(null),s=f("scrollable"),j=Object(o.useMemo)((function(){return{id:s}}),[s]);return l(u,{onEnterViewport:n}),Object(h.jsxs)(a.a,Object(r.a)(Object(r.a)({id:s,direction:"vertical",verticalScrollbar:"hidden",horizontalScrollbar:"hidden"},i),{},{children:[Object(h.jsx)(m.Provider,{value:j,children:t}),Object(h.jsx)(v,{ref:u})]}))}},518:function(e,t,n){"use strict";var r=n(76),c=n(0),i=n(538),o=n(142);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,u=Object(c.useMemo)((function(){return new o.c}),[]),a=Object(i.a)([e].concat(Object(r.a)(t)),(function(){return u[e].apply(u,Object(r.a)(t))}),n);return a}},520:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(6),c=n(0),i=n(527),o=n.n(i),u=n(517),a=n(1),s=function(e){var t=Object(c.useContext)(u.a).id;return Object(a.jsx)(o.a,Object(r.a)({once:!0,offset:100,scrollContainer:t&&"#".concat(t)},e))};var j=s},523:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r,c,i,o=n(76),u=n(0),a=n(102),s=n.n(a),j=n(517),b=n(20),l=n(514),d=n(525),O=n.n(d),f=n(21),h=n(520),v=n(5),m=n(1),x=Object(f.b)(h.a)(r||(r=Object(b.a)(["\n  display: inline-flex;\n  position: relative;\n  height: 20rem !important;\n  width: 20%;\n"]))),p=Object(f.b)(O.a)(c||(c=Object(b.a)(["\n  width: 100%;\n"]))),g=f.b.div(i||(i=Object(b.a)(["\n  position: absolute;\n  background: var(--main-color);\n  right: 0;\n  z-index: 1;\n  padding: 0 0.5em;\n  font-size: 0.75rem;\n  margin-top: 0.25rem;\n  margin-right: 0.25rem;\n"]))),w=function(e){var t=e.item,n=Object(l.e)(),r=Object(u.useCallback)((function(){(null===t||void 0===t?void 0:t.id)&&n.push(Object(v.b)(v.a.Item,{itemId:t.id}))}),[null===t||void 0===t?void 0:t.id,n]);return Object(m.jsxs)(x,{height:"20rem",children:[Object(m.jsx)(g,{children:null===t||void 0===t?void 0:t.new}),Object(m.jsx)(p,{source:null===t||void 0===t?void 0:t.posters.medium,caption:null===t||void 0===t?void 0:t.title,onClick:r})]})},y=function(e){var t=e.items,n=e.loading,r=e.onScrollToEnd,c=e.scrollable,i=void 0===c||c,u=Object(m.jsxs)(m.Fragment,{children:[s()(t,(function(e){return Object(m.jsx)(w,{item:e},e.id)})),n&&s()(Object(o.a)(new Array(15)),(function(e,t){return Object(m.jsx)(w,{},t)}))]});return i?Object(m.jsx)(j.b,{onScrollToEnd:r,children:u}):u}},538:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(549),c=n(2),i=n(521);function o(e,t,n){var o=Object(c.k)(e,t,n);return Object(i.a)(o,r.a)}},730:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return M}));var r,c=n(20),i=n(0),o=n(21),u=n(523),a=n(520),s=n(219),j=n(517),b=n(518),l=n(5),d=n(1),O=o.b.div(r||(r=Object(c.a)(["\n  padding-bottom: 1rem;\n"]))),f=function(e){var t=e.title,n=e.params,r=Object(b.a)("items",[n,0,10]),c=r.data,o=r.isLoading,a=Object(i.useMemo)((function(){return Object(l.b)(l.a.Category,{categoryId:n.type})}),[n]);return Object(d.jsxs)(O,{children:[Object(d.jsx)(s.a,{href:a,state:{params:n,title:t},children:t}),Object(d.jsx)(u.a,{items:null===c||void 0===c?void 0:c.items,loading:o,scrollable:!1})]})},h=new Date,v=h.setMonth(h.getMonth()-1)/1e3,m=function(){return Object(d.jsx)(f,{title:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b",params:{type:"movie",sort:"views-",conditions:["created>".concat(v)]}})},x=function(){return Object(d.jsx)(f,{title:"\u041d\u043e\u0432\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b",params:{type:"movie",sort:"created-"}})},p=function(){return Object(d.jsx)(f,{title:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0441\u0435\u0440\u0438\u0430\u043b\u044b",params:{type:"serial",sort:"watchers-"}})},g=function(){return Object(d.jsx)(f,{title:"\u041d\u043e\u0432\u044b\u0435 \u0441\u0435\u0440\u0438\u0430\u043b\u044b",params:{type:"serial",sort:"created-"}})},w=function(){return Object(d.jsx)(f,{title:"\u041d\u043e\u0432\u044b\u0435 \u043a\u043e\u043d\u0446\u0435\u0440\u0442\u044b",params:{type:"concert",sort:"created-"}})},y=function(){return Object(d.jsx)(f,{title:"\u041d\u043e\u0432\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b",params:{type:"documovie",sort:"created-"}})},k=function(){return Object(d.jsx)(f,{title:"\u041d\u043e\u0432\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0435\u0440\u0438\u0430\u043b\u044b",params:{type:"docuserial",sort:"created-"}})},C=function(){return Object(d.jsx)(f,{title:"\u041d\u043e\u0432\u044b\u0435 \u0422\u0412 \u0448\u043e\u0443",params:{type:"tvshow",sort:"created-"}})},M=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(j.b,{children:[Object(d.jsx)(a.a,{height:"50rem",children:Object(d.jsx)(m,{})}),Object(d.jsx)(a.a,{height:"50rem",children:Object(d.jsx)(x,{})}),Object(d.jsx)(a.a,{height:"50rem",children:Object(d.jsx)(p,{})}),Object(d.jsx)(a.a,{height:"50rem",children:Object(d.jsx)(g,{})}),Object(d.jsx)(a.a,{height:"50rem",children:Object(d.jsx)(w,{})}),Object(d.jsx)(a.a,{height:"50rem",children:Object(d.jsx)(y,{})}),Object(d.jsx)(a.a,{height:"50rem",children:Object(d.jsx)(k,{})}),Object(d.jsx)(a.a,{height:"50rem",children:Object(d.jsx)(C,{})})]})})}}}]);
//# sourceMappingURL=20.c017a66f.chunk.js.map